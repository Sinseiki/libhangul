/* libhangul
 * Copyright (C) 2004 - 2009 Choe Hwanjin
 *
 * This library is free software; you can redistribute it and/or
 * modify it under the terms of the GNU Lesser General Public
 * License as published by the Free Software Foundation; either
 * version 2.1 of the License, or (at your option) any later version.
 *
 * This library is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public
 * License along with this library; if not, write to the Free Software
 * Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
 */

#ifdef HAVE_CONFIG_H
#include <config.h>
#endif

#include "hangul.h"

/**
 * @defgroup hangulctype 한글 글자 조작
 * 
 * @section hangulctype 한글 글자 조작
 * libhangul은 한글 각 글자를 구분하고 조작하는데 사용할 수 있는 몇가지 함수를
 * 제공한다.  libhangul의 글자 구분 함수의 인터페이스에서 글자의 기본 단위는
 * UCS4 코드값이다.
 */

/**
 * @file hangulctype.c
 */


inline ucschar
choseong_compress_addon(ucschar a, ucschar b)
{// 두벌식 바꿔놓기
    if (a == 0) {
        return b;
    }

    if (a == 0x1100 && b == 0x1100) {
        return 0x1101;
    } else if (a == 0x1103 && b == 0x1103) {
        return 0x1104;
    } else if (a == 0x1107 && b == 0x1107) {
        return 0x1108;
    } else if (a == 0x1109 && b == 0x1109) {
        return 0x110A;
    } else if (a == 0x110c && b == 0x110c) {
        return 0x110d;
    } else {
        return 0;
    }
}


ucschar
hangul_galmadeuli_shin_2003(ucschar c, bool conjoin)
{
    static const ucschar cho_to_jung[][1] = {
      {0x0000},  /* 0x1100  choseong kiyeok         */
      {0x0000},  /* 0x1101  choseong ssangkiyeok  */
      {0x0000},  /* 0x1102  choseong nieun           */
      {0x0000},  /* 0x1103  choseong tikeut          */
      {0x0000},  /* 0x1104  choseong ssangtikeut */
      {0x0000},  /* 0x1105  choseong rieul            */
      {0x1174},  /* 0x1106  choseong mieum           <ㅁ> */     /* <ㅢ> */
      {0x0000},  /* 0x1107  choseong pieup           */
      {0x0000},  /* 0x1108  choseong ssangpieup   */
      {0x0000},  /* 0x1109  choseong sios             */
      {0x0000},  /* 0x110a  choseong ssangsios     */
      {0x119e},  /* 0x110b  choseong ieung           <ㅇ> */      /* <ㆍ> araea */
      {0x0000},  /* 0x110c  choseong cieuc           */
      {0x0000},  /* 0x110d  choseong ssangcieuc  */
      {0x116e},  /* 0x110e  choseong chieuch          <ㅊ> */      /* <ㅜ> */
      {0x1169},  /* 0x110f  choseong khieukh         <ㅋ> */     /* <ㅗ> */
      {0x0000},  /* 0x1110  choseong thieuth       */
      {0x1169},  /* 0x1111  choseong phieuph            <ㅍ> */     /* <ㅗ> */
      {0x0000},  /* 0x1112  choseong hieuh         */
    };

    static const ucschar jong_to_jung[][1] = {
      {0x116d},  /* 0x11a8  jongseong kiyeok (ㄱ)        -> jungseong yo (ㅛ) */
      {0x0000},  /* 0x11a9  jongseong ssangkiyeok (ㄲ)   ->   */
      {0x0000},  /* 0x11aa  jongseong kiyeok-sios (ㄳ)   ->      */
      {0x1168},  /* 0x11ab  jongseong nieun (ㄴ)         -> jungseong ye (ㅖ)       */
      {0x0000},  /* 0x11ac  jongseong nieun-cieuc (ㄵ)   ->         */
      {0x0000},  /* 0x11ad  jongseong nieun-hieuh (ㄶ)   ->         */
      {0x1175},  /* 0x11ae  jongseong tikeut (ㄷ)        -> jungseong i  (ㅣ)      */
      {0x1163},  /* 0x11af  jongseong rieul (ㄹ)         ->  jungseong ya (ㅑ)       */
      {0x0000},  /* 0x11b0  jongseong rieul-kiyeok (ㄺ)  ->        */
      {0x0000},  /* 0x11b1  jongseong rieul-mieum (ㄻ)   ->        */
      {0x0000},  /* 0x11b2  jongseong rieul-pieup (ㄼ)   ->         */
      {0x0000},  /* 0x11b3  jongseong rieul-sios (ㄽ)    ->          */
      {0x0000},  /* 0x11b4  jongseong rieul-thieuth (ㄾ) ->       */
      {0x0000},  /* 0x11b5  jongseong rieul-phieuph (ㄿ) ->       */
      {0x0000},  /* 0x11b6  jongseong rieul-hieuh (ㅀ)   ->         */
      {0x119e},  /* 0x11b7  jongseong mieum  (ㅁ)        ->      jungseong araea (ᆞ)   */
      {0x1167},  /* 0x11b8  jongseong pieup  (ㅂ)        -> jungseong yeo (ㅕ)     */
      {0x0000},  /* 0x11b9  jongseong pieup-sios (ㅄ)    ->          */
      {0x1164},  /* 0x11ba  jongseong sios (ㅅ)          -> jungseong yae (ㅒ)        */
      {0x1161}, /* 0x11bb  jongseong ssangsios (ㅆ)     -> jungseong a (ㅏ)   */
      {0x1172},  /* 0x11bc  jongseong ieung (ㅇ)         -> jungseong yu  (ㅠ)      */
      {0x1173},  /* 0x11bd  jongseong cieuc (ㅈ)         -> jungseong eu  (ㅡ)      */
      {0x1166},  /* 0x11be  jongseong chieuch (ㅊ)       -> jungseong e  (ㅔ)    */
      {0x116e},  /* 0x11bf  jongseong khieukh (ㅋ)        -> jungseong u  (ㅜ)    */
      {0x1162},  /* 0x11c0  jongseong thieuth (ㅌ)       -> jungseong ae  (ㅐ)    */
      {0x1165},  /* 0x11c1  jongseong phieuph (ㅍ)       -> jungseong eo  (ㅓ)    */
      {0x1169},  /* 0x11c2  jongseong hieuh (ㅎ)         -> jungseong o   (ㅗ)     */
    };

    /*shin-2003 의 ㅁ 에는 홀소리가 없어서 첫소리, 가윗소리, 끝소리 조건에 걸리지 않기때문에 */
    /* ㄻ(0x11b1) 은 hangul_ic_process_jaso_shin_sebeol 의 한글 이외 처리부에서 따로 처리한다.*/
    static const ucschar jung_to_conjoin_jong[][1] = {// shift+글쇠=겹받침
    {0x0000},     /* 0x1161   ᅡ*/     /* <>  */
    {0x11b4},     /* 0x1162   ᅢ*/     /* <ㄾ> */
    {0x11b0},     /* 0x1163   ᅣ*/     /* <ㄺ> */
    {0x11b3},     /* 0x1164   ᅤ*/     /* <ㄽ> */
    {0x11b5},     /* 0x1165   ᅥ*/     /* <ㄿ> */
    {0x11aa},     /* 0x1166   ᅦ*/     /* <ㄳ>*/
    {0x11b2},     /* 0x1167   ᅧ*/     /* <ㄼ> */
    {0x11ad},     /* 0x1168   ᅨ*/     /* <ㄶ> */
    {0x11b6},     /* 0x1169   ᅩ*/     /* <ㅀ> */
    {0x0000},     /* 0x116a   ᅪ*/     /* <> */
    {0x0000},     /* 0x116b   ᅫ*/     /* <> */
    {0x0000},     /* 0x116c   ᅬ*/     /* <> */
    {0x11a9},     /* 0x116d   ᅭ*/     /* <ㄲ> */
    {0x0000},     /* 0x116e   ᅮ*/     /* <> */
    {0x0000},     /* 0x116f   ᅯ*/     /* <> */
    {0x0000},     /* 0x1170   ᅰ*/     /* <> */
    {0x0000},     /* 0x1171   ᅱ*/     /* <> */
    {0x11b9},     /* 0x1172   ᅲ*/     /* <ㅄ> */
    {0x0000},     /* 0x1173   ᅳ*/     /* <> */
    {0x0000},     /* 0x1174   ᅴ*/     /* <> */
    {0x11ac},     /* 0x1175   ᅵ*/     /* <ㄵ> */
    };

    static const ucschar jong_to_conjoin_jong[][1] = {// 끝소리 글쇠 두 번=겹받침
      {0x11a9},  /* 0x11a8 jongseong kiyeok (ㄱ)        -> jongseong ssangkiyeok (ㄲ)  */
      {0x0000},  /* 0x11a9 jongseong ssangkiyeok (ㄲ)   ->   */
      {0x0000},  /* 0x11aa jongseong kiyeok-sios (ㄳ)   ->      */
      {0x11ad},  /* 0x11ab jongseong nieun (ㄴ)        -> jongseong nieun-hieuh (ㄶ)   */
      {0x0000},  /* 0x11ac jongseong nieun-cieuc (ㄵ)  ->         */
      {0x0000},  /* 0x11ad jongseong nieun-hieuh (ㄶ)   ->         */
      {0x11ac},  /* 0x11ae jongseong tikeut (ㄷ)       ->  jongseong nieun-cieuc (ㄵ)      */
      {0x11b0},  /* 0x11af jongseong rieul (ㄹ)        ->  jongseong rieul-kiyeok (ㄺ)   */
      {0x0000},  /* 0x11b0 jongseong rieul-kiyeok (ㄺ)  ->        */
      {0x0000},  /* 0x11b1 jongseong rieul-mieum (ㄻ)  ->        */
      {0x0000},  /* 0x11b2 jongseong rieul-pieup (ㄼ)  ->         */
      {0x0000},  /* 0x11b3 jongseong rieul-sios (ㄽ)   ->          */
      {0x0000},  /* 0x11b4 jongseong rieul-thieuth (ㄾ) ->       */
      {0x0000},  /* 0x11b5 jongseong rieul-phieuph (ㄿ) ->       */
      {0x0000},  /* 0x11b6 jongseong rieul-hieuh (ㅀ)  ->         */
      {0x11b1},  /* 0x11b7 jongseong mieum (ㅁ)        ->  jongseong rieul-mieum (ㄻ)      */
      {0x11b2},  /* 0x11b8 jongseong pieup (ㅂ)        -> jongseong rieul-pieup (ㄼ)      */
      {0x0000},  /* 0x11b9 jongseong pieup-sios (ㅄ)   ->          */
      {0x11b3},  /* 0x11ba jongseong sios (ㅅ)         -> jongseong rieul-sios (ㄽ)         */
      {0x0000},  /* 0x11bb jongseong ssangsios (ㅆ)    ->          */
      {0x11b9},  /* 0x11bc jongseong ieung (ㅇ)        -> jongseong pieup-sios (ㅄ)        */
      {0x0000},  /* 0x11bd jongseong cieuc (ㅈ)        ->         */
      {0x11aa},  /* 0x11be jongseong chieuch (ㅊ)      -> jongseong kiyeok-sios (ㄳ)      */
      {0x0000},  /* 0x11bf jongseong khieukh (ㅋ)      ->            */
      {0x11b4},  /* 0x11c0 jongseong thieuth (ㅌ)      -> jongseong rieul-thieuth (ㄾ)      */
      {0x11b5},  /* 0x11c1 jongseong phieuph (ㅍ)      -> jongseong rieul-phieuph (ㄿ)      */
      {0x11b6},  /* 0x11c2 jongseong hieuh (ㅎ)         -> jongseong rieul-hieuh (ㅀ)        */
    };

    if (conjoin) {
        if (c >= 0x1161 && c <= 0x1175) {
            return jung_to_conjoin_jong[c - 0x1161][0];
        } else if (c >= 0x11a8 && c <= 0x11c2) {
            return jong_to_conjoin_jong[c - 0x11a8][0];
        } else {
            return 0;
        }
    } else {
        if (c >= 0x1100 && c <= 0x1112) {
            return cho_to_jung[c - 0x1100][0];
        } else if (c >= 0x11a8 && c <= 0x11c2) {
            return jong_to_jung[c - 0x11a8][0];
        } else {
            return 0;
        }
    }
}

ucschar
hangul_galmadeuli_shin_2012(ucschar c, bool conjoin)
{
    static const ucschar cho_to_jung[][1] = {
      {0x0000},  /* 0x1100  choseong kiyeok         */
      {0x0000},  /* 0x1101  choseong ssangkiyeok  */
      {0x0000},  /* 0x1102  choseong nieun           */
      {0x0000},  /* 0x1103  choseong tikeut          */
      {0x0000},  /* 0x1104  choseong ssangtikeut */
      {0x0000},  /* 0x1105  choseong rieul            */
      {0x1174},  /* 0x1106  choseong mieum           <ㅁ> */     /* <ㅢ> */
      {0x0000},  /* 0x1107  choseong pieup           */
      {0x0000},  /* 0x1108  choseong ssangpieup   */
      {0x0000},  /* 0x1109  choseong sios             */
      {0x0000},  /* 0x110a  choseong ssangsios     */
      {0x119e},  /* 0x110b  choseong ieung           <ㅇ> */      /* <ㆍ> araea */
      {0x0000},  /* 0x110c  choseong cieuc           */
      {0x0000},  /* 0x110d  choseong ssangcieuc  */
      {0x116e},  /* 0x110e  choseong chieuch          <ㅊ> */      /* <ㅜ> */
      {0x1169},  /* 0x110f  choseong khieukh         <ㅋ> */     /* <ㅗ> */
      {0x0000},  /* 0x1110  choseong thieuth       */
      {0x1169},  /* 0x1111  choseong phieuph            <ㅍ> */     /* <ㅗ> */
      {0x0000},  /* 0x1112  choseong hieuh         */
    };

    static const ucschar jong_to_jung[][1] = {
      {0x116d},  /* 0x11a8  jongseong kiyeok (ㄱ)        -> jungseong yo (ㅛ) */
      {0x0000},  /* 0x11a9  jongseong ssangkiyeok (ㄲ)   ->   */
      {0x0000},  /* 0x11aa  jongseong kiyeok-sios (ㄳ)   ->      */
      {0x1168},  /* 0x11ab  jongseong nieun (ㄴ)         -> jungseong ye (ㅖ)       */
      {0x0000},  /* 0x11ac  jongseong nieun-cieuc (ㄵ)   ->         */
      {0x0000},  /* 0x11ad  jongseong nieun-hieuh (ㄶ)   ->         */
      {0x1162},  /* 0x11ae  jongseong tikeut (ㄷ)        -> jungseong ae  (ㅐ)      */
      {0x1163},  /* 0x11af  jongseong rieul (ㄹ)         ->  jungseong ya (ㅑ)       */
      {0x0000},  /* 0x11b0  jongseong rieul-kiyeok (ㄺ)  ->        */
      {0x0000},  /* 0x11b1  jongseong rieul-mieum (ㄻ)   ->        */
      {0x0000},  /* 0x11b2  jongseong rieul-pieup (ㄼ)   ->         */
      {0x0000},  /* 0x11b3  jongseong rieul-sios (ㄽ)    ->          */
      {0x0000},  /* 0x11b4  jongseong rieul-thieuth (ㄾ) ->       */
      {0x0000},  /* 0x11b5  jongseong rieul-phieuph (ㄿ) ->       */
      {0x0000},  /* 0x11b6  jongseong rieul-hieuh (ㅀ)   ->         */
      {0x119e},  /* 0x11b7  jongseong mieum  (ㅁ)        ->      jungseong araea (ᆞ)   */
      {0x1167},  /* 0x11b8  jongseong pieup  (ㅂ)        -> jungseong yeo (ㅕ)     */
      {0x0000},  /* 0x11b9  jongseong pieup-sios (ㅄ)    ->          */
      {0x1164},  /* 0x11ba  jongseong sios (ㅅ)          -> jungseong yae (ㅒ)        */
      {0x1175}, /* 0x11bb  jongseong ssangsios (ㅆ)     -> jungseong i  (ㅣ)   */
      {0x1172},  /* 0x11bc  jongseong ieung (ㅇ)         -> jungseong yu  (ㅠ)      */
      {0x1173},  /* 0x11bd  jongseong cieuc (ㅈ)         -> jungseong eu  (ㅡ)      */
      {0x1161},  /* 0x11be  jongseong chieuch (ㅊ)       -> jungseong a (ㅏ)    */
      {0x1166},  /* 0x11bf  jongseong khieukh (ㅋ)        -> jungseong e  (ㅔ)    */
      {0x1165},  /* 0x11c0  jongseong thieuth (ㅌ)       -> jungseong eo  (ㅓ)    */
      {0x116e},  /* 0x11c1  jongseong phieuph (ㅍ)       -> jungseong u  (ㅜ)    */
      {0x1169},  /* 0x11c2  jongseong hieuh (ㅎ)         -> jungseong o   (ㅗ)     */
    };

    static const ucschar jung_to_conjoin_jong[][1] = {// shift+글쇠=겹받침
    {0x0000},     /* 0x1161   ᅡ*/     /* <>  */
    {0x0000},     /* 0x1162   ᅢ*/     /* <> */
    {0x11b0},     /* 0x1163   ᅣ*/     /* <ㄺ> */
    {0x11b3},     /* 0x1164   ᅤ*/     /* <ㄽ> */
    {0x11b4},     /* 0x1165   ᅥ*/     /* <ㄾ> */
    {0x11aa},     /* 0x1166   ᅦ*/     /* <ㄳ>*/
    {0x11b2},     /* 0x1167   ᅧ*/     /* <ㄼ> */
    {0x11ad},     /* 0x1168   ᅨ*/     /* <ㄶ> */
    {0x11b6},     /* 0x1169   ᅩ*/     /* <ㅀ> */
    {0x0000},     /* 0x116a   ᅪ*/     /* <> */
    {0x0000},     /* 0x116b   ᅫ*/     /* <> */
    {0x0000},     /* 0x116c   ᅬ*/     /* <> */
    {0x11a9},     /* 0x116d   ᅭ*/     /* <ㄲ> */
    {0x11b5},     /* 0x116e   ᅮ*/     /* <ㄿ> */
    {0x0000},     /* 0x116f   ᅯ*/     /* <> */
    {0x0000},     /* 0x1170   ᅰ*/     /* <> */
    {0x0000},     /* 0x1171   ᅱ*/     /* <> */
    {0x11b9},     /* 0x1172   ᅲ*/     /* <ㅄ> */
    {0x0000},     /* 0x1173   ᅳ*/     /* <> */
    {0x0000},     /* 0x1174   ᅴ*/     /* <> */
    {0x11ac},     /* 0x1175   ᅵ*/     /* <ㄵ> */
    {0x0000},     /* 0x1176   ᅶ*/ 
    {0x0000},    /* 0x1177    ᅷ*/
    {0x0000},     /* 0x1178   ᅸ*/
    {0x0000},     /* 0x1179   ᅹ */
    {0x0000},     /* 0x117a    ᅺ */
    {0x0000},     /* 0x117b    ᅻ */
    {0x0000},     /* 0x117c    ᅼ */
    {0x0000},     /* 0x117d    ᅽ  */
    {0x0000},     /* 0x117e    ᅾ */
    {0x0000},     /* 0x117f    ᅿ */
    {0x0000},     /* 0x1180    ᆀ */
    {0x0000},     /* 0x1181    ᆁ*/
    {0x0000},     /* 0x1182    ᆂ*/
    {0x0000},     /* 0x1183    ᆃ*/
    {0x0000},     /* 0x1184    ᆄ*/
    {0x0000},     /* 0x1185    ᆅ*/
    {0x0000},     /* 0x1186    ᆆ*/
    {0x0000},     /* 0x1187    ᆇ*/
    {0x0000},     /* 0x1188    ᆈ*/
    {0x0000},     /* 0x1189    ᆉ*/
    {0x0000},     /* 0x118a    ᆊ*/
    {0x0000},     /* 0x118b    ᆋ*/
    {0x0000},     /* 0x118c    ᆌ*/
    {0x0000},     /* 0x118d    ᆍ*/
    {0x0000},     /* 0x118e    ᆎ*/
    {0x0000},     /* 0x118f    ᆏ*/
    {0x0000},     /* 0x1190    ᆐ*/
    {0x0000},     /* 0x1191     ᆑ*/
    {0x0000},     /* 0x1192    ᆒ*/
    {0x0000},     /* 0x1193    ᆓ*/
    {0x0000},     /* 0x1194    ᆔ*/
    {0x0000},     /* 0x1195    ᆕ*/
    {0x0000},     /* 0x1196    ᆖ*/
    {0x0000},     /* 0x1197    ᆗ*/
    {0x0000},     /* 0x1198    ᆘ*/
    {0x0000},     /* 0x1199    ᆙ*/
    {0x0000},     /* 0x119a    ᆚ*/
    {0x0000},     /* 0x119b    ᆛ*/
    {0x0000},     /* 0x119c    ᆜ*/
    {0x0000},     /* 0x119d    ᆝ*/
    {0x11b1},     /* 0x119e     ᆞ araea*/    /* <ㄻ>  */
    {0x0000},     /* 0x119f    ᆟ*/
    {0x0000},     /* 0x11a0    ᆠ*/
    {0x0000},     /* 0x11a1    ᆡ*/
    {0x0000},     /* 0x11a2    ᆢ*/
    {0x0000},     /* 0x11a3    ᆣ*/
    {0x0000},     /* 0x11a4   ᆤ*/
    {0x0000},     /* 0x11a5    ᆥ*/
    {0x0000},     /* 0x11a6    ᆦ*/
    {0x0000},    /* 0x11a7    ᆧ*/
    };

    static const ucschar jong_to_conjoin_jong[][1] = {// 끝소리 글쇠 두 번=겹받침
      {0x11a9},  /* 0x11a8 jongseong kiyeok (ㄱ)        -> jongseong ssangkiyeok (ㄲ)  */
      {0x0000},  /* 0x11a9 jongseong ssangkiyeok (ㄲ)   ->   */
      {0x0000},  /* 0x11aa jongseong kiyeok-sios (ㄳ)   ->      */
      {0x11ad},  /* 0x11ab jongseong nieun (ㄴ)        -> jongseong nieun-hieuh (ㄶ)   */
      {0x0000},  /* 0x11ac jongseong nieun-cieuc (ㄵ)  ->         */
      {0x0000},  /* 0x11ad jongseong nieun-hieuh (ㄶ)   ->         */
      {0x0000},  /* 0x11ae jongseong tikeut (ㄷ)       ->        */
      {0x11b0},  /* 0x11af jongseong rieul (ㄹ)        ->  jongseong rieul-kiyeok (ㄺ)   */
      {0x0000},  /* 0x11b0 jongseong rieul-kiyeok (ㄺ)  ->        */
      {0x0000},  /* 0x11b1 jongseong rieul-mieum (ㄻ)  ->        */
      {0x0000},  /* 0x11b2 jongseong rieul-pieup (ㄼ)  ->         */
      {0x0000},  /* 0x11b3 jongseong rieul-sios (ㄽ)   ->          */
      {0x0000},  /* 0x11b4 jongseong rieul-thieuth (ㄾ) ->       */
      {0x0000},  /* 0x11b5 jongseong rieul-phieuph (ㄿ) ->       */
      {0x0000},  /* 0x11b6 jongseong rieul-hieuh (ㅀ)  ->         */
      {0x11b1},  /* 0x11b7 jongseong mieum (ㅁ)        ->  jongseong rieul-mieum (ㄻ)      */
      {0x11b2},  /* 0x11b8 jongseong pieup (ㅂ)        -> jongseong rieul-pieup (ㄼ)      */
      {0x0000},  /* 0x11b9 jongseong pieup-sios (ㅄ)   ->          */
      {0x11b3},  /* 0x11ba jongseong sios (ㅅ)         -> jongseong rieul-sios (ㄽ)         */
      {0x11ac},  /* 0x11bb jongseong ssangsios (ㅆ)    -> jongseong nieun-cieuc (ㄵ) */
      {0x11b9},  /* 0x11bc jongseong ieung (ㅇ)        -> jongseong pieup-sios (ㅄ)        */
      {0x0000},  /* 0x11bd jongseong cieuc (ㅈ)        ->         */
      {0x0000},  /* 0x11be jongseong chieuch (ㅊ)      ->       */
      {0x11aa},  /* 0x11bf jongseong khieukh (ㅋ)      ->  jongseong kiyeok-sios (ㄳ)   */
      {0x11b4},  /* 0x11c0 jongseong thieuth (ㅌ)      -> jongseong rieul-thieuth (ㄾ)      */
      {0x11b5},  /* 0x11c1 jongseong phieuph (ㅍ)      -> jongseong rieul-phieuph (ㄿ)      */
      {0x11b6},  /* 0x11c2 jongseong hieuh (ㅎ)         -> jongseong rieul-hieuh (ㅀ)        */
    };

    if (conjoin) {
        if (c >= 0x1161 && c <= 0x11a7) {
            return jung_to_conjoin_jong[c - 0x1161][0];
        } else if (c >= 0x11a8 && c <= 0x11c2) {
            return jong_to_conjoin_jong[c - 0x11a8][0];
        } else {
            return 0;
        }
    } else {
        if (c >= 0x1100 && c <= 0x1112) {
            return cho_to_jung[c - 0x1100][0];
        } else if (c >= 0x11a8 && c <= 0x11c2) {
            return jong_to_jung[c - 0x11a8][0];
        } else {
            return 0;
        }
    }
}


ucschar
hangul_galmadeuli_3_2012(ucschar c, bool dummy)
{
    static const ucschar jung_to_jung_jong[][1] = {
    {0x11c1},     /* 0x1161   ᅡ*/     /* Jongseong phieuph (ㅍ)  */
    {0x1164},     /* 0x1162   ᅢ*/     /* jungseong yae (ㅒ) */
    {0x0000},     /* 0x1163   ᅣ*/     /*   */
    {0x0000},     /* 0x1164   ᅤ*/     /*  */
    {0x11be},     /* 0x1165   ᅥ*/     /* Jongseong chieuch (ㅊ) */
    {0x11bf},     /* 0x1166   ᅦ*/     /* Jongseong khiyeok (ㅋ)*/
    {0x11bd},     /* 0x1167   ᅧ*/     /* Jongseong cieuc (ㅈ) */
    {0x0000},     /* 0x1168   ᅨ*/     /*   */
    {0x0000},     /* 0x1169    ᅩ*/     /*  */
    {0x0000},     /* 0x116a    ᅪ*/     /*  */
    {0x0000},     /* 0x116b    ᅫ*/     /*  */
    {0x0000},     /* 0x116c    ᅬ*/     /*  */
    {0x0000},     /* 0x116d    ᅭ*/     /*   */
    {0x0000},     /* 0x116e    ᅮ*/     /*  */
    {0x0000},     /* 0x116f    ᅯ*/     /*  */
    {0x0000},     /* 0x1170    ᅰ*/     /*  */
    {0x0000},     /* 0x1171    ᅱ*/     /*  */
    {0x0000},     /* 0x1172    ᅲ*/     /*   */
    {0x11ae},     /* 0x1173    ᅳ*/     /* Jongseong tikeut (ㄷ) */
    {0x0000},     /* 0x1174    ᅴ*/     /*  */
    {0x11c0},     /* 0x1175   ᅵ*/     /* Jongseong thikeuth (ㅌ) */
    };

    if (c < 0x1161 || c > 0x1175) {
        return 0;
    } else {
        return jung_to_jung_jong[c - 0x1161][0];
    }
}

ucschar
hangul_galmadeuli_3_2014(ucschar c, bool conjoin)
{
    static const ucschar jung_to_jung_jong[][1] = {
    {0x11c0},     /* 0x1161   ᅡ*/     /* Jongseong thikeuth (ㅌ)  */
    {0x1164},     /* 0x1162   ᅢ*/     /* jungseong yae (ㅒ) */
    {0x0000},     /* 0x1163   ᅣ*/     /*  */
    {0x0000},     /* 0x1164   ᅤ*/     /*  */
    {0x11be},     /* 0x1165   ᅥ*/     /* Jongseong chieuch (ㅊ) */
    {0x11bf},     /* 0x1166   ᅦ*/     /* Jongseong khiyeok (ㅋ) */
    {0x11bd},     /* 0x1167   ᅧ*/     /* Jongseong cieuc (ㅈ) */
    {0x0000},     /* 0x1168   ᅨ*/     /*  */
    {0x11c1},     /* 0x1169   ᅩ*/     /* Jongseong phieuph (ㅍ) */
    {0x0000},     /* 0x116a   ᅪ*/     /*  */
    {0x0000},     /* 0x116b   ᅫ*/     /*  */
    {0x0000},     /* 0x116c   ᅬ*/     /*  */
    {0x0000},     /* 0x116d   ᅭ*/     /*  */
    {0x0000},     /* 0x116e   ᅮ*/     /*  */
    {0x0000},     /* 0x116f   ᅯ*/     /*  */
    {0x0000},     /* 0x1170   ᅰ*/     /*  */
    {0x0000},     /* 0x1171   ᅱ*/     /*  */
    {0x0000},     /* 0x1172   ᅲ*/     /*  */
    {0x0000},     /* 0x1173   ᅳ*/     /*  */
    {0x0000},     /* 0x1174   ᅴ*/     /*  */
    {0x11ae},     /* 0x1175   ᅵ*/     /* Jongseong tikeut (ㄷ) */
    };

    static const ucschar jong_to_conjoin_jong[][1] = {// 윗글의 끝글쇠=겹받침
      {0x0000},  /* 0x11a8 jongseong kiyeok (ㄱ)        ->   */
      {0x0000},  /* 0x11a9 jongseong ssangkiyeok (ㄲ)   ->   */
      {0x0000},  /* 0x11aa jongseong kiyeok-sios (ㄳ)   ->      */
      {0x0000},  /* 0x11ab jongseong nieun (ㄴ)        ->    */
      {0x0000},  /* 0x11ac jongseong nieun-cieuc (ㄵ)  ->         */
      {0x0000},  /* 0x11ad jongseong nieun-hieuh (ㄶ)   ->         */
      {0x11b2},  /* 0x11ae jongseong tikeut (ㄷ)       ->  jongseong rieul-pieup (ㄼ)      */
      {0x0000},  /* 0x11af jongseong rieul (ㄹ)        ->     */
      {0x0000},  /* 0x11b0 jongseong rieul-kiyeok (ㄺ)  ->        */
      {0x0000},  /* 0x11b1 jongseong rieul-mieum (ㄻ)  ->        */
      {0x0000},  /* 0x11b2 jongseong rieul-pieup (ㄼ)  ->         */
      {0x0000},  /* 0x11b3 jongseong rieul-sios (ㄽ)   ->          */
      {0x0000},  /* 0x11b4 jongseong rieul-thieuth (ㄾ) ->       */
      {0x0000},  /* 0x11b5 jongseong rieul-phieuph (ㄿ) ->       */
      {0x0000},  /* 0x11b6 jongseong rieul-hieuh (ㅀ)  ->         */
      {0x0000},  /* 0x11b7 jongseong mieum (ㅁ)        ->        */
      {0x0000},  /* 0x11b8 jongseong pieup (ㅂ)        ->       */
      {0x0000},  /* 0x11b9 jongseong pieup-sios (ㅄ)   ->          */
      {0x0000},  /* 0x11ba jongseong sios (ㅅ)         ->          */
      {0x0000},  /* 0x11bb jongseong ssangsios (ㅆ)    ->  */
      {0x0000},  /* 0x11bc jongseong ieung (ㅇ)        ->         */
      {0x11ac},  /* 0x11bd jongseong cieuc (ㅈ)        ->  jongseong nieun-cieuc (ㄵ)       */
      {0x11b3},  /* 0x11be jongseong chieuch (ㅊ)      ->  jongseong rieul-sios (ㄽ)     */
      {0x11aa},  /* 0x11bf jongseong khieukh (ㅋ)      ->  jongseong kiyeok-sios (ㄳ)   */
      {0x11b4},  /* 0x11c0 jongseong thieuth (ㅌ)      -> jongseong rieul-thieuth (ㄾ)      */
      {0x11b5},  /* 0x11c1 jongseong phieuph (ㅍ)      -> jongseong rieul-phieuph (ㄿ)      */
      {0x0000},  /* 0x11c2 jongseong hieuh (ㅎ)         ->         */
    };

	if (conjoin) {
		if (c >= 0x11a8 && c <= 0x11c2) {
			return jong_to_conjoin_jong[c - 0x11a8][0];
		}
	} else {
		if (c >= 0x1161 && c <= 0x1175) {
			return jung_to_jung_jong[c - 0x1161][0];
		}
    }
    return 0;
}

ucschar
hangul_galmadeuli_3_2015(ucschar c, bool conjoin)
{
    static const ucschar jung_to_jung_jong[][1] = {
        {0x11c1},     /* 0x1161   ᅡ*/     /* Jongseong phieuph (ㅍ) */
        {0x1164},     /* 0x1162   ᅢ*/     /* jungseong yae (ㅒ) */
        {0x0000},     /* 0x1163   ᅣ*/     /*  */
        {0x0000},     /* 0x1164   ᅤ*/     /*  */
        {0x11be},     /* 0x1165   ᅥ*/     /* Jongseong chieuch (ㅊ) */
        {0x11c0},     /* 0x1166   ᅦ*/     /* Jongseong thikeuth (ㅌ)  */
        {0x11bd},     /* 0x1167   ᅧ*/     /* Jongseong cieuc (ㅈ) */
        {0x0000},     /* 0x1168   ᅨ*/     /*  */
        {0x11bf},     /* 0x1169   ᅩ*/     /* Jongseong khiyeok (ㅋ) */
        {0x0000},     /* 0x116a   ᅪ*/     /*  */
        {0x0000},     /* 0x116b   ᅫ*/     /*  */
        {0x0000},     /* 0x116c   ᅬ*/     /*  */
        {0x0000},     /* 0x116d   ᅭ*/     /*  */
        {0x0000},     /* 0x116e   ᅮ*/     /*  */
        {0x0000},     /* 0x116f   ᅯ*/     /*  */
        {0x0000},     /* 0x1170   ᅰ*/     /*  */
        {0x0000},     /* 0x1171   ᅱ*/     /*  */
        {0x0000},     /* 0x1172   ᅲ*/     /*  */
        {0x0000},     /* 0x1173   ᅳ*/     /*  */
        {0x0000},     /* 0x1174   ᅴ*/     /*  */
        {0x11c2},     /* 0x1175   ᅵ*/     /* Jongseong hieuh (ㅎ) */
    };

    static const ucschar jong_to_conjoin_jong[][1] = {// 윗글의 끝글쇠=겹받침
      {0x0000},  /* 0x11a8 jongseong kiyeok (ㄱ)        ->   */
      {0x0000},  /* 0x11a9 jongseong ssangkiyeok (ㄲ)   ->   */
      {0x0000},  /* 0x11aa jongseong kiyeok-sios (ㄳ)   ->      */
      {0x0000},  /* 0x11ab jongseong nieun (ㄴ)        ->    */
      {0x0000},  /* 0x11ac jongseong nieun-cieuc (ㄵ)  ->         */
      {0x0000},  /* 0x11ad jongseong nieun-hieuh (ㄶ)   ->         */
      {0x0000},  /* 0x11ae jongseong tikeut (ㄷ)       ->        */
      {0x0000},  /* 0x11af jongseong rieul (ㄹ)        ->     */
      {0x0000},  /* 0x11b0 jongseong rieul-kiyeok (ㄺ)  ->        */
      {0x0000},  /* 0x11b1 jongseong rieul-mieum (ㄻ)  ->        */
      {0x0000},  /* 0x11b2 jongseong rieul-pieup (ㄼ)  ->         */
      {0x0000},  /* 0x11b3 jongseong rieul-sios (ㄽ)   ->          */
      {0x0000},  /* 0x11b4 jongseong rieul-thieuth (ㄾ) ->       */
      {0x0000},  /* 0x11b5 jongseong rieul-phieuph (ㄿ) ->       */
      {0x0000},  /* 0x11b6 jongseong rieul-hieuh (ㅀ)  ->         */
      {0x0000},  /* 0x11b7 jongseong mieum (ㅁ)        ->        */
      {0x0000},  /* 0x11b8 jongseong pieup (ㅂ)        ->       */
      {0x0000},  /* 0x11b9 jongseong pieup-sios (ㅄ)   ->          */
      {0x0000},  /* 0x11ba jongseong sios (ㅅ)         ->          */
      {0x0000},  /* 0x11bb jongseong ssangsios (ㅆ)    ->  */
      {0x0000},  /* 0x11bc jongseong ieung (ㅇ)        ->         */
      {0x11ac},  /* 0x11bd jongseong cieuc (ㅈ)        ->  jongseong nieun-cieuc (ㄵ)       */
      {0x11b6},  /* 0x11be jongseong chieuch (ㅊ)      ->  jongseong rieul-hieuh (ㅀ)     */
      {0x11aa},  /* 0x11bf jongseong khieukh (ㅋ)      ->  jongseong kiyeok-sios (ㄳ)   */
      {0x11b5},  /* 0x11c0 jongseong thieuth (ㅌ)      -> jongseong rieul-phieuph (ㄿ)      */
      {0x11b1},  /* 0x11c1 jongseong phieuph (ㅍ)      -> jongseong rieul-mieum (ㄻ)      */
      {0x11b2},  /* 0x11c2 jongseong hieuh (ㅎ)         -> jongseong rieul-pieup (ㄼ)        */
    };

	if (conjoin) {
		if (c >= 0x11a8 && c <= 0x11c2) {
			return jong_to_conjoin_jong[c - 0x11a8][0];
		}
	} else {
		if (c >= 0x1161 && c <= 0x1175) {
			return jung_to_jung_jong[c - 0x1161][0];
		}
    }
    return 0;
}

ucschar
hangul_galmadeuli_3_2015_patal(ucschar c, bool conjoin)
{
    static const ucschar jung_to_jung_jong[][1] = {
        {0x11c1},     /* 0x1161   ᅡ*/     /* Jongseong phieuph (ㅍ) */
        {0x1164},     /* 0x1162   ᅢ*/     /* jungseong yae (ㅒ) */
        {0x0000},     /* 0x1163   ᅣ*/     /*  */
        {0x0000},     /* 0x1164   ᅤ*/     /*  */
        {0x11be},     /* 0x1165   ᅥ*/     /* Jongseong chieuch (ㅊ) */
        {0x11c0},     /* 0x1166   ᅦ*/     /* Jongseong thikeuth (ㅌ)  */
        {0x11bd},     /* 0x1167   ᅧ*/     /* Jongseong cieuc (ㅈ) */
        {0x0000},     /* 0x1168   ᅨ*/     /*  */
        {0x11bf},     /* 0x1169   ᅩ*/     /* Jongseong khiyeok (ㅋ) */
        {0x0000},     /* 0x116a   ᅪ*/     /*  */
        {0x0000},     /* 0x116b   ᅫ*/     /*  */
        {0x0000},     /* 0x116c   ᅬ*/     /*  */
        {0x0000},     /* 0x116d   ᅭ*/     /*  */
        {0x0000},     /* 0x116e   ᅮ*/     /*  */
        {0x0000},     /* 0x116f   ᅯ*/     /*  */
        {0x0000},     /* 0x1170   ᅰ*/     /*  */
        {0x0000},     /* 0x1171   ᅱ*/     /*  */
        {0x0000},     /* 0x1172   ᅲ*/     /*  */
        {0x0000},     /* 0x1173   ᅳ*/     /*  */
        {0x0000},     /* 0x1174   ᅴ*/     /*  */
        {0x11c2},     /* 0x1175   ᅵ*/     /* Jongseong hieuh (ㅎ) */
    };

    static const ucschar jong_to_conjoin_jong[][1] = {// 윗글의 끝글쇠=겹받침
      {0x0000},  /* 0x11a8 jongseong kiyeok (ㄱ)        ->   */
      {0x0000},  /* 0x11a9 jongseong ssangkiyeok (ㄲ)   ->   */
      {0x0000},  /* 0x11aa jongseong kiyeok-sios (ㄳ)   ->      */
      {0x0000},  /* 0x11ab jongseong nieun (ㄴ)        ->    */
      {0x0000},  /* 0x11ac jongseong nieun-cieuc (ㄵ)  ->         */
      {0x0000},  /* 0x11ad jongseong nieun-hieuh (ㄶ)   ->         */
      {0x0000},  /* 0x11ae jongseong tikeut (ㄷ)       ->        */
      {0x0000},  /* 0x11af jongseong rieul (ㄹ)        ->     */
      {0x0000},  /* 0x11b0 jongseong rieul-kiyeok (ㄺ)  ->        */
      {0x0000},  /* 0x11b1 jongseong rieul-mieum (ㄻ)  ->        */
      {0x0000},  /* 0x11b2 jongseong rieul-pieup (ㄼ)  ->         */
      {0x0000},  /* 0x11b3 jongseong rieul-sios (ㄽ)   ->          */
      {0x0000},  /* 0x11b4 jongseong rieul-thieuth (ㄾ) ->       */
      {0x0000},  /* 0x11b5 jongseong rieul-phieuph (ㄿ) ->       */
      {0x0000},  /* 0x11b6 jongseong rieul-hieuh (ㅀ)  ->         */
      {0x0000},  /* 0x11b7 jongseong mieum (ㅁ)        ->        */
      {0x0000},  /* 0x11b8 jongseong pieup (ㅂ)        ->       */
      {0x0000},  /* 0x11b9 jongseong pieup-sios (ㅄ)   ->          */
      {0x0000},  /* 0x11ba jongseong sios (ㅅ)         ->          */
      {0x0000},  /* 0x11bb jongseong ssangsios (ㅆ)    ->  */
      {0x0000},  /* 0x11bc jongseong ieung (ㅇ)        ->         */
      {0x11ac},  /* 0x11bd jongseong cieuc (ㅈ)        ->  jongseong nieun-cieuc (ㄵ)       */
      {0x11b3},  /* 0x11be jongseong chieuch (ㅊ)      ->  jongseong rieul-sios (ㄽ)     */
      {0x11aa},  /* 0x11bf jongseong khieukh (ㅋ)      ->  jongseong kiyeok-sios (ㄳ)   */
      {0x11b4},  /* 0x11c0 jongseong thieuth (ㅌ)      -> jongseong rieul-thieuth (ㄾ)      */
      {0x11b5},  /* 0x11c1 jongseong phieuph (ㅍ)      -> jongseong rieul-phieuph (ㄿ)      */
      {0x11b2},  /* 0x11c2 jongseong hieuh (ㅎ)         -> jongseong rieul-pieup (ㄼ)        */
    };

	if (conjoin) {
		if (c >= 0x11a8 && c <= 0x11c2) {
			return jong_to_conjoin_jong[c - 0x11a8][0];
		}
	} else {
		if (c >= 0x1161 && c <= 0x1175) {
			return jung_to_jung_jong[c - 0x1161][0];
		}
    }
    return 0;
}

ucschar
hangul_galmadeuli_3_14_proposal(ucschar c, bool dummy)
{// 원안에서 [ㅛ, ㅠ, ㅑ, ㅖ] 에는 터치입력식에서 추가하지만 편의를 위해 적용
    static const ucschar jung_to_jung_jong[][1] = {
    {0x11b4},     /* 0x1161   ᅡ*/     /* jongseong rieul-thieuth (ㄾ)  */
    {0x11ac},     /* 0x1162   ᅢ*/     /* Jongseong nieun-cieuc (ㄵ) */
    {0x11ae},     /* 0x1163   ᅣ*/     /* Jongseong tikeut (ㄷ) ++ */
    {0x0000},     /* 0x1164   ᅤ*/     /*  */
    {0x0000},     /* 0x1165   ᅥ*/     /*  */
    {0x11b5},     /* 0x1166   ᅦ*/     /* Jongseong rieul-phieuph (ㄿ)*/
    {0x11bd},     /* 0x1167   ᅧ*/     /* Jongseong cieuc (ㅈ) */
    {0x11be},     /* 0x1168   ᅨ*/     /* Jongseong chieuch (ㅊ) ++ */
    {0x11bf},     /* 0x1169   ᅩ*/     /* Jongseong khiyeok (ㅋ) */
    {0x0000},     /* 0x116a   ᅪ*/     /*  */
    {0x0000},     /* 0x116b   ᅫ*/     /*  */
    {0x0000},     /* 0x116c   ᅬ*/     /*  */
    {0x11c1},     /* 0x116d   ᅭ*/     /* Jongseong phieuph (ㅍ) ++ */
    {0x0000},     /* 0x116e   ᅮ*/     /*  */
    {0x0000},     /* 0x116f   ᅯ*/     /*  */
    {0x0000},     /* 0x1170   ᅰ*/     /*  */
    {0x0000},     /* 0x1171   ᅱ*/     /*  */
    {0x11c0},     /* 0x1172   ᅲ*/     /* Jongseong thikeuth (ㅌ) ++ */
    {0x0000},     /* 0x1173   ᅳ*/     /*  */
    {0x0000},     /* 0x1174   ᅴ*/     /*  */
    {0x1164},     /* 0x1175   ᅵ*/     /* jungseong yae (ㅒ) */
    };

    if (c < 0x1161 || c > 0x1175) {
        return 0;
    } else {
        return jung_to_jung_jong[c - 0x1161][0];
    }
}



ucschar
hangul_ascii_to_symbol_shin(int ascii, int step, int dummy)
{/* 신세벌 글판 특수기호 확장 배열 */
    static unsigned short ext_table[][3] = {
    { 0x0000, 0x0000, 0x0000 }, // 0x21 !:
    { 0x0000, 0x0000, 0x0000 }, // 0x22 ":
    { 0x0000, 0x0000, 0x0000 }, // 0x23 #:
    { 0x0000, 0x0000, 0x0000 }, // 0x24 $:        
    { 0x0000, 0x0000, 0x0000 }, // 0x25 %:       
    { 0x0000, 0x0000, 0x0000 }, // 0x26 &:
    { 0x326B, 0x266A, 0x266C }, // 0x27 ':   ㉫/0x326B/♪/0x266A/♬/0x266C
    { 0x0000, 0x0000, 0x0000 }, // 0x28 (:
    { 0x0000, 0x0000, 0x0000 }, // 0x29 ):
    { 0x0000, 0x0000, 0x0000 }, // 0x2A *: 
    { 0x0000, 0x0000, 0x0000 }, // 0x2B +:
    { 0x3001, 0x3008, 0x300A }, // 0x2C ,:       、/0x3001/〈/0x3008/《/0x300A
    { 0x00B1, 0x2642, 0x2601 }, // 0x2D -:      ±/0x00B1/♂/0x2642/☁/0x2601
    { 0x3002, 0x3009, 0x300B }, // 0x2E .:      。/0x3002/〉/0x3009/》/0x300B
    { 0x326A, 0x203B, 0x2620 }, // 0x2F /:     ㉪/0x326A/※/0x203B/☠/0x2620
    { 0x00A7, 0x2469, 0x2473 }, // 0x30 0:     §/0x00A7/⑩/0x2469/⑳/0x2473
    { 0x03BC, 0x2460, 0x246A }, // 0x31 1:         μ/0x03BC/①/0x2460/⑪/0x246A
    { 0x00B2, 0x2461, 0x246B }, // 0x32 2:          ²/0x00B2/②/0x2461/⑫/0x246B
    { 0x00B3, 0x2462, 0x246C }, // 0x33 3:         ³/0x00B3/③/0x2462/⑬/0x246C
    { 0xFFE6, 0x2463, 0x246D }, // 0x34 4:       ￦/0xFFE6/④/0x2463/⑭/0x246D
    { 0xFFE5, 0x2464, 0x246E }, // 0x35 5:        ￥/0xFFE5/⑤/0x2464/⑮/0x246E
    { 0x321C, 0x2465, 0x246F }, // 0x36 6:       ㈜/0x321C/⑥/0x2465/⑯/0x246F
    { 0xFFE1, 0x2466, 0x2470 }, // 0x37 7:       ￡/0xFFE1/⑦/0x2466/⑰/0x2470
    { 0x20AC, 0x2467, 0x2471 }, // 0x38 8:        €/0x20AC/⑧/0x2467/⑱/0x2471
    { 0xFFE0, 0x2468, 0x2472 }, // 0x39 9:       ￠/0xFFE0/⑨/0x2468/⑲/0x2472
    { 0x0000, 0x0000, 0x0000 }, // 0x3A ::
    { 0x3265, 0x25BD, 0x25BC }, // 0x3B ;:     ㉥/0x3265/▽/0x25BD/▼/0x25BC
    { 0x0000, 0x0000, 0x0000 }, // 0x3C <:     
    { 0x2260, 0x2640, 0x2603 }, // 0x3D =:      ≠/0x2260/♀/0x2640/☃/0x2603
    { 0x0000, 0x0000, 0x0000 }, // 0x3E >:  
    { 0x0000, 0x0000, 0x0000 }, // 0x3F ?: 
    { 0x0000, 0x0000, 0x0000 }, // 0x40 @:       
    { 0x0000, 0x0000, 0x0000 }, // 0x41 A:        
    { 0x0000, 0x0000, 0x0000 }, // 0x42 B:        
    { 0x0000, 0x0000, 0x0000 }, // 0x43 C:        
    { 0x0000, 0x0000, 0x0000 }, // 0x44 D:        
    { 0x0000, 0x0000, 0x0000 }, // 0x45 E:
    { 0x0000, 0x0000, 0x0000 }, // 0x46 F:        
    { 0x0000, 0x0000, 0x0000 }, // 0x47 G:
    { 0x0000, 0x0000, 0x0000 }, // 0x48 H:
    { 0x0000, 0x0000, 0x0000 }, // 0x49 I:
    { 0x0000, 0x0000, 0x0000 }, // 0x4A J:
    { 0x0000, 0x0000, 0x0000 }, // 0x4B K:
    { 0x0000, 0x0000, 0x0000 }, // 0x4C L:
    { 0x0000, 0x0000, 0x0000 }, // 0x4D M:
    { 0x0000, 0x0000, 0x0000 }, // 0x4E N:
    { 0x0000, 0x0000, 0x0000 }, // 0x4F O:
    { 0x0000, 0x0000, 0x0000 }, // 0x50 P:
    { 0x0000, 0x0000, 0x0000 }, // 0x51 Q:
    { 0x0000, 0x0000, 0x0000 }, // 0x52 R:        
    { 0x0000, 0x0000, 0x0000 }, // 0x53 S:        
    { 0x0000, 0x0000, 0x0000 }, // 0x54 T:        
    { 0x0000, 0x0000, 0x0000 }, // 0x55 U:
    { 0x0000, 0x0000, 0x0000 }, // 0x56 V:
    { 0x0000, 0x0000, 0x0000 }, // 0x57 W:
    { 0x0000, 0x0000, 0x0000 }, // 0x58 X:        
    { 0x0000, 0x0000, 0x0000 }, // 0x59 Y:
    { 0x0000, 0x0000, 0x0000 }, // 0x5A Z:        
    { 0x3010, 0x3014, 0x2600 }, // 0x5B [:      【/0x3010/〔/0x3014/☀/0x2600
    { 0x2252, 0x00B6, 0x00A6 }, // 0x5C \:   ≒/0x2252/¶/0x00B6/¦/0x00A6
    { 0x3011, 0x3015, 0x2602 }, // 0x5D ]:      】/0x3011/〕/0x3015/☂/0x2602
    { 0x0000, 0x0000, 0x0000 }, // 0x5E ^:
    { 0x0000, 0x0000, 0x0000 }, // 0x5F _:
    { 0x2122, 0x00A9, 0x00AE }, // 0x60 `:    ™/0x2122/©/0x00A9/®/0x00AE
    { 0x25C7, 0x25C8, 0x25C6 }, // 0x61 a:      ◇/0x25C7/◈/0x25C8/◆/0x25C6
    { 0x00F7, 0x2030, 0x2031 }, // 0x62 b:        ÷/0x00F7/‰/0x2030/‱/0x2031
    { 0x00B0, 0x260E, 0x2668 }, // 0x63 c:       °/0x00B0/☎/0x260E/♨/0x2668
    { 0x25CB, 0x25C9, 0x25CF }, // 0x64 d:      ○/0x25CB/◉/0x25C9/●/0x25CF
    { 0x2199, 0x2190, 0x261C }, // 0x65 e:          ↙/0x2199/←/0x2190/☜/0x261C
    { 0x00B7, 0x25E6, 0x2022 }, // 0x66 f:      ·/0x00B7/◦/0x25E6/•/0x2022
    { 0x2026, 0x2015, 0xFFE3 }, // 0x67 g:       …/0x2026/―/0x2015/￣/0xFFE3
    { 0x3261, 0x3003, 0x2713 }, // 0x68 h:       ㉡/0x3261/〃/0x3003/✓/0x2713
    { 0x3264, 0x2103, 0x2109 }, // 0x69 i:       ㉤/0x3264/℃/0x2103/℉/0x2109 
    { 0x3267, 0x2018, 0x201C }, // 0x6A j:       ㉧/0x3267/‘/0x2018/“/0x201C
    { 0x3260, 0x2019, 0x201D }, // 0x6B k:      ㉠/0x3260/’/0x2019/”/0x201D
    { 0x3268, 0x25B3, 0x25B2 }, // 0x6C l:       ㉨/0x3268/△/0x25B3/▲/0x25B2
    { 0x326D, 0x300D, 0x300F }, // 0x6D m:   ㉭/0x326D/」/0x300D/』/0x300F
    { 0x3266, 0x300C, 0x300E }, // 0x6E n:    ㉦/0x3266/「/0x300C/『/0x300E
    { 0x3269, 0x25B7, 0x25B6 }, // 0x6F o:    ㉩/0x3269/▷/0x25B7/▶/0x25B6
    { 0x326C, 0x25C1, 0x25C0 }, // 0x70 p:   ㉬/0x326C/◁/0x25C1/◀/0x25C0
    { 0x2196, 0x2193, 0x261F }, // 0x71 q:       ↖/0x2196/↓/0x2193/☟/0x261F
    { 0x2198, 0x2192, 0x261E }, // 0x72 r:      ↘/0x2198/→/0x2192/☞/0x261E
    { 0x25A1, 0x25A3, 0x25A0 }, // 0x73 s:    □/0x25A1/▣/0x25A3/■/0x25A0
    { 0x02D0, 0x2194, 0x21C4 }, // 0x74 t:       ː/0x02D0/↔/0x2194/⇄/0x21C4
    { 0x3262, 0x327E, 0x327F }, // 0x75 u:     ㉢/0x3262/㉾/0x327E/㉿/0x327F
    { 0x00D7, 0x2715, 0x2702 }, // 0x76 v:    ×/0x00D7/✕/0x2715/✂/0x2702
    { 0x2197, 0x2191, 0x261D }, // 0x77 w:        ↗/0x2197/↑/0x2191/☝/0x261D
    { 0x2032, 0x2606, 0x2605 }, // 0x78 x:    ′/0x2032/☆/0x2606/★/0x2605
    { 0x3263, 0x2195, 0x21C5 }, // 0x79 y:    ㉣/0x3263/↕/0x2195/⇅/0x21C5
    { 0x2033, 0x2661, 0x2665 }, // 0x7A z:     ″/0x2033/♡/0x2661/♥/0x2665
    { 0x0000, 0x0000, 0x0000 }, // 0x7B {:
    { 0x0000, 0x0000, 0x0000 }, // 0x7C |:      
    { 0x0000, 0x0000, 0x0000 }, // 0x7D }:
    { 0x0000, 0x0000, 0x0000 }, // 0x7E ~:
    { 0x0000, 0x0000, 0x0000 }, // 0x7F delete    ///´/0x00B4/Ұ/0x04B0/☏/0x260F
    };

    if (ascii < 0x21 || ascii > 0x7F) {
        return 0;
    } else if (step < 1 || step > 3 ) {
        return 0;
    } else {
        return ext_table[ascii - 0x21][step - 1];
    }
}

ucschar
hangul_ascii_to_symbol_3_2011(int ascii, int step, int dummy)
{/* 3-2011 글판 특수기호 확장 배열 */
    static unsigned short ext_table[][3] = {
    { 0x0000, 0x0000, 0x0000 }, // 0x21 exclam:
    { 0x266A, 0x266C, 0x0000 }, // 0x22 quotedbl:      ♪ eighth note, ♬ beamed sixteenth note
    { 0x0000, 0x0000, 0x0000 }, // 0x23 numbersign:
    { 0xFFE0, 0x0000, 0x0000 }, // 0x24 dollar:        ￠ cent sign
    { 0x0000, 0x0000, 0x0000 }, // 0x25 percent:
    { 0x0000, 0x0000, 0x0000 }, // 0x26 ampersand:
    { 0x326B, 0x2030, 0x2031 }, // 0x27 apostrophe:    ㉫ circled hangeul tiuet, ‰ per mille sign, ‱ per ten thousand sign
    { 0x0000, 0x0000, 0x0000 }, // 0x28 parenleft:
    { 0x0000, 0x0000, 0x0000 }, // 0x29 parenright:
    { 0x0000, 0x0000, 0x0000 }, // 0x2A asterisk:
    { 0x2640, 0x0000, 0x0000 }, // 0x2B plus:          ♀ female sign
    { 0x3001, 0x3008, 0x2266 }, // 0x2C comma:         、 ideographic comma, 〈 left angle bracket, ≦ less-than over equal to
    { 0x3010, 0x3014, 0x2601 }, // 0x2D minus:         【 left black lenticular bracket, 〔 left tortoise shell bracket, ☁ cloud
    { 0x3002, 0x3009, 0x2267 }, // 0x2E period:        。 ideographic full stop, 〉 right angle bracket, ≧ greater-than over equal to
    { 0x2026, 0x203B, 0x2504 }, // 0x2F slash:         … horizontal ellipsis, ※ reference mark, ┄ box drawings light triple dash horizontal
    { 0x326A, 0x300D, 0x0000 }, // 0x30 0:             ㉪ circled hangeul kieuk, 」 right corner bracket
    { 0x03BC, 0x2122, 0x2120 }, // 0x31 1:             μ Greek small letter mu, ™ trade mark sign, ℠ service mark
    { 0x00B2, 0x2109, 0x0000 }, // 0x32 2:             ² superscript 2, ℉ degree fahrenheit
    { 0x00B3, 0x2103, 0x0000 }, // 0x33 3:             ³ superscript 3, ℃ degree celsius
    { 0xFFE6, 0xFFE5, 0x04B0 }, // 0x34 4:             ￦ fullwidth won sign, ￥ fullwidth yen sign, Ұ cyrillic capital letter straight U with stroke
    { 0x20AC, 0xFFE1, 0x0000 }, // 0x35 5:             € Euro sign, ￡ fullwidth pound sign
    { 0x327E, 0x2702, 0x0000 }, // 0x36 6:             ㉾ circled hangeul u, ✂ black scissors
    { 0x00A7, 0x300E, 0x0000 }, // 0x37 7:             § section sign, 『 left white corner bracket
    { 0x0000, 0x300F, 0x0000 }, // 0x38 8:             none, 』 right white corner bracket
    { 0x0000, 0x300C, 0x0000 }, // 0x39 9:             none, 「 left corner bracket
    { 0x2463, 0x246D, 0x3254 }, // 0x3A colon:         ④ circled number 4, ⑭ circled number 14, ㉔ circled number 24
    { 0x3265, 0x2463, 0x246D }, // 0x3B semicolon:     ㉥ circled hangeul bieub, ④ curcked number 4, ⑭ circled number 14
    { 0x0000, 0x0000, 0x0000 }, // 0x3C less:
    { 0x3011, 0x3015, 0x2603 }, // 0x3D equal:         】 right black lenticular bracket, 〕 right tortoise shell bracket, ☃ snowman
    { 0x0000, 0x0000, 0x0000 }, // 0x3E greater:
    { 0x0000, 0x0000, 0x0000 }, // 0x3F question:
    { 0x0000, 0x0000, 0x0000 }, // 0x40 at:
    { 0x0000, 0x0000, 0x0000 }, // 0x41 A:
    { 0x0000, 0x0000, 0x0000 }, // 0x42 B:
    { 0x0000, 0x0000, 0x0000 }, // 0x43 C:
    { 0x0000, 0x0000, 0x0000 }, // 0x44 D:
    { 0x2715, 0x0000, 0x0000 }, // 0x45 E:             ✕ fullwidth multiplication X
    { 0x0000, 0x0000, 0x0000 }, // 0x46 F:
    { 0x00A6, 0x2506, 0x0000 }, // 0x47 G:             ¦ broken bar, ┆ box drawings light triple dash vertical
    { 0x2469, 0x2473, 0x325A }, // 0x48 H:             ⑩ circled number 10, ⑳ circled number 20, ㉚ circled number 30
    { 0x2466, 0x2470, 0x3257 }, // 0x49 I:             ⑦ circled number 7, ⑰ circled number 17, ㉗ circled number 27
    { 0x2460, 0x246A, 0x3251 }, // 0x4A J:             ① circled number 1, ⑪ circled number 11, ㉑ circled number 21
    { 0x2461, 0x246B, 0x3252 }, // 0x4B K:             ② circled number 2, ⑫ circled number 12, ㉒ circled number 22
    { 0x2462, 0x246C, 0x3253 }, // 0x4C L:             ③ circled number 3, ⑬ circled number 13, ㉓ circled number 23
    { 0x201D, 0x2019, 0x0000 }, // 0x4D M:             ” left double question mark, ’ right single quotation mark
    { 0x201C, 0x2018, 0x0000 }, // 0x4E N:             “ right double question mark, ‘ left single quoatation mark
    { 0x2467, 0x2471, 0x3258 }, // 0x4F O:             ⑧ circled number 8, ⑱ circled number 18, ㉘ circled number 28
    { 0x2468, 0x2472, 0x3259 }, // 0x50 P:             ⑨ circled number 9, ⑲ circled number 19, ㉙ circled number 29
    { 0x2199, 0x2196, 0x261F }, // 0x51 Q:             ↙ south west arrow, ↖ north west arrow, ☟ white down-pointing arrow
    { 0x00B4, 0x0000, 0x0000 }, // 0x52 R:             ´ acute accent
    { 0x0000, 0x0000, 0x0000 }, // 0x53 S:
    { 0x0000, 0x0000, 0x2610 }, // 0x54 T:             none, none, ☐ ballot box
    { 0x2465, 0x246F, 0x3256 }, // 0x55 U:             ⑥ circled number 6, ⑯ circled number 16, ㉖ circled number 26
    { 0x0000, 0x0000, 0x0000 }, // 0x56 V:
    { 0x2198, 0x2197, 0x261D }, // 0x57 W:             ↘ south east arrow, ↗ north east arrow, ☝ white up-pointing arrow
    { 0x0000, 0x0000, 0x0000 }, // 0x58 X:
    { 0x2464, 0x246E, 0x3255 }, // 0x59 Y:             ⑤ circled number 5, ⑮ circled number 15, ㉕ circled number 25
    { 0x0000, 0x0000, 0x0000 }, // 0x5A Z:
    { 0x007B, 0x00B1, 0x2600 }, // 0x5B bracketleft:   { braceleft, ± plus-minus sign, ☀ black sun with rays
    { 0x2260, 0x2252, 0x00B6 }, // 0x5C backslash:     ≠ not equal to, ≒ approximately equal to or the image of, ¶ pilcrow sign
    { 0x007D, 0x00F7, 0x2602 }, // 0x5D bracketright:  } braceright, ÷ division sign, ☂ umbrella
    { 0x321C, 0x0000, 0x0000 }, // 0x5E asciicircum:   ㈜ parenthesized Hangeul ju
    { 0x2642, 0x0000, 0x0000 }, // 0x5F underscore:    ♂ male sign
    { 0x00A9, 0x00AE, 0x2117 }, // 0x60 quoteleft:     © copyright sign, ® regitered sign, ℗ sound recoding copyright
    { 0x25C7, 0x25C8, 0x25C6 }, // 0x61 a:             ◇ white diamond, ◈ white diamond containing black small diamond, ◆ black diamond
    { 0x02D0, 0x25C1, 0x25C0 }, // 0x62 b:             ː modifier letter triangular colon, ◁ white left-pointing triangle, ◀ black left-pointing triangle
    { 0x00B0, 0x260E, 0x2668 }, // 0x63 c:             ° degree sign, ☎ black telephone, ♨ hot springs
    { 0x25CB, 0x25C9, 0x25CF }, // 0x64 d:             ○ white circle, ◉ white circle containing black small circle, ● black circle
    { 0x00D7, 0x2194, 0x2195 }, // 0x65 e:             × multiplication X, ↔ left right arrow, ↕ up down arrow
    { 0x2015, 0x25B3, 0x25B2 }, // 0x66 f:             ― horizontal bar, △ white up-pointing triangle, ▲ black up-pointing triangle
    { 0x007c, 0x25BD, 0x25BC }, // 0x67 g:             | vertical line, ▽ white down-pointing triangle, ▼ black down-pointing triangle
    { 0x3261, 0x2469, 0x2473 }, // 0x68 h:             ㉡ circled hangeul nieun, ⑩ circled number 10, ⑳ circled number 20
    { 0x3264, 0x2466, 0x2470 }, // 0x69 i:             ㉤ circled hangeul mieum, ⑦ circled number 7, ⑰ circled number 17
    { 0x3267, 0x2460, 0x246A }, // 0x6A j:             ㉧ circled hangeul ieung, ① circled number 1, ⑪ circled number 11
    { 0x3260, 0x2461, 0x246B }, // 0x6B k:             ㉠ circled hangeul gieug, ② circled number 2, ⑫ circled number 12
    { 0x3268, 0x2462, 0x246C }, // 0x6C l:             ㉨ circled hangeul jieuj, ③ circled number 3, ⑬ circled number 13
    { 0x326D, 0x300B, 0x0000 }, // 0x6D m:             ㉭ circled hangeul hieuh, 》 right double angle bracket
    { 0x3266, 0x300A, 0x0000 }, // 0x6E n:             ㉦ circled hangeul sieus, 《 left double angle bracket
    { 0x3269, 0x2467, 0x2471 }, // 0x6F o:             ㉩ circled hangeul chieuch, ⑧ circled number 8, ⑱ circled number 18
    { 0x326C, 0x2468, 0x2472 }, // 0x70 p:             ㉬ circled hangeul pieup, ⑨ circled number 9, ⑲ circled number 19
    { 0x2190, 0x2193, 0x261C }, // 0x71 q:             ← lefewards arrow, ↓ downwards arrow, ☜ white left-pointing index
    { 0x00B4, 0x2022, 0x25E6 }, // 0x72 r:             ´ acute accent, • bullet, ◦ white bullet
    { 0x25A1, 0x25A3, 0x25A0 }, // 0x73 s:             □ white square, ▣ white square containing black small square, ■ black square
    { 0x3003, 0x2713, 0x2611 }, // 0x74 t:             〃 ditto mark, ✓ check mark, ☑ ballot box with check
    { 0x3262, 0x2465, 0x246F }, // 0x75 u:             ㉢ circled hangeul dieud, ⑥ circled number 6, ⑯ circled number 16
    { 0x0000, 0x25B7, 0x25B6 }, // 0x76 v:             none, ▷ white right-pointing triangle, ▶ black right-pointing triangle
    { 0x2192, 0x2191, 0x261E }, // 0x77 w:             → rightwards arrow, ↑ upwards arrow, ☞ white right-pointing index
    { 0x2032, 0x2606, 0x2605 }, // 0x78 x:             ′ prime, ☆ white star, ★ black star
    { 0x3263, 0x2464, 0x246E }, // 0x79 y:             ㉣ circled hangeul lieul, ⑤ circled number 5, ⑮ circled number 15
    { 0x2033, 0x2661, 0x2665 }, // 0x7A z:             ″ double prime, ♡ white heart suit, ♥ black heart suit
    { 0x0000, 0x0000, 0x0000 }, // 0x7B braceleft:
    { 0x0000, 0x0000, 0x0000 }, // 0x7C bar:
    { 0x00F7, 0x0000, 0x0000 }, // 0x7D braceright:    ÷ division sign
    { 0x327F, 0x0000, 0x0000 }, // 0x7E asciitilde:    ㉿ Korean standard symbol
    { 0x0000, 0x0000, 0x0000 }, // 0x7F delete
    };

    if (ascii < 0x21 || ascii > 0x7F) {
        return 0;
    } else if (step < 1 || step > 3 ) {
        return 0;
    } else {
        return ext_table[ascii - 0x21][step - 1];
    }
}

ucschar
hangul_ascii_to_symbol_3_2012(int ascii, int step, int dummy)
{/* 3-2012 글판 특수기호 확장 배열 */
    static unsigned short ext_table[][3] = {
    { 0x0000, 0x0000, 0x0000 }, // 0x21 exclam:
    { 0x266A, 0x266C, 0x0000 }, // 0x22 quotedbl:      ♪ eighth note, ♬ beamed sixteenth note
    { 0x0000, 0x0000, 0x0000 }, // 0x23 numbersign:
    { 0xFFE0, 0x0000, 0x0000 }, // 0x24 dollar:        ￠ cent sign
    { 0x2030, 0x2031, 0x0000 }, // 0x25 percent:       ‰ per mille sign, ‱ per ten thousand sign
    { 0x0000, 0x0000, 0x0000 }, // 0x26 ampersand:
    { 0x326B, 0x00F7, 0x0000 }, // 0x27 apostrophe:    ㉫ circled hangeul tiuet, ÷ division sign
    { 0x0000, 0x0000, 0x0000 }, // 0x28 parenleft:
    { 0x0000, 0x0000, 0x0000 }, // 0x29 parenright:
    { 0x0000, 0x0000, 0x0000 }, // 0x2A asterisk: 
    { 0x0000, 0x0000, 0x0000 }, // 0x2B plus:
    { 0x3001, 0x3008, 0x2266 }, // 0x2C comma:         、 ideographic comma, 〈 left angle bracket, ≦ less-than over equal to
    { 0x00B1, 0x2642, 0x2601 }, // 0x2D minus:         ± plus-minus sign, ♂ male sign, ☁ cloud
    { 0x3002, 0x3009, 0x2267 }, // 0x2E period:        。 ideographic full stop, 〉 right angle bracket, ≧ greater-than over equal to
    { 0x2026, 0x203B, 0x0000 }, // 0x2F slash:         … horizontal ellipsis, ※ reference mark
    { 0x326A, 0x300D, 0x0000 }, // 0x30 0:             ㉪ circled hangeul kieuk, 」 right corner bracket
    { 0x03BC, 0x2122, 0x2120 }, // 0x31 1:             μ Greek small letter mu, ™ trade mark sign, ℠ service mark
    { 0x00B2, 0x2109, 0x0000 }, // 0x32 2:             ² superscript 2, ℉ degree fahrenheit
    { 0x00B3, 0x2103, 0x0000 }, // 0x33 3:             ³ superscript 3, ℃ degree celsius
    { 0xFFE6, 0xFFE5, 0x04B0 }, // 0x34 4:             ￦ fullwidth won sign, ￥ fullwidth yen sign, Ұ cyrillic capital letter straight U with stroke
    { 0x20AC, 0xFFE1, 0x0000 }, // 0x35 5:             € Euro sign, ￡ fullwidth pound sign
    { 0x327E, 0x2702, 0x0000 }, // 0x36 6:             ㉾ circled hangeul u, ✂ black scissors
    { 0x00A7, 0x300E, 0x0000 }, // 0x37 7:             § section sign, 『 left white corner bracket
    { 0x0000, 0x300F, 0x0000 }, // 0x38 8:             none, 』 right white corner bracket
    { 0x0000, 0x300C, 0x0000 }, // 0x39 9:             none, 「 left corner bracket
    { 0x2463, 0x246D, 0x3254 }, // 0x3A colon:         ④ circled number 4, ⑭ circled number 14, ㉔ circled number 24
    { 0x3265, 0x2463, 0x246D }, // 0x3B semicolon:     ㉥ circled hangeul bieub, ④ curcked number 4, ⑭ circled number 14
    { 0x0000, 0x0000, 0x0000 }, // 0x3C less:     
    { 0x2260, 0x2640, 0x2603 }, // 0x3D equal:         ≠ not equal to, ♀ female sign, ☃ snowman
    { 0x0000, 0x0000, 0x0000 }, // 0x3E greater:  
    { 0x0000, 0x0000, 0x0000 }, // 0x3F question: 
    { 0x0000, 0x0000, 0x0000 }, // 0x40 at:       
    { 0x0000, 0x0000, 0x0000 }, // 0x41 A:        
    { 0x0000, 0x0000, 0x0000 }, // 0x42 B:        
    { 0x0000, 0x0000, 0x0000 }, // 0x43 C:        
    { 0x0000, 0x0000, 0x0000 }, // 0x44 D:        
    { 0x2715, 0x0000, 0x0000 }, // 0x45 E:             ✕ fullwidth multiplication X
    { 0x0000, 0x0000, 0x0000 }, // 0x46 F:        
    { 0x00A6, 0x2506, 0x0000 }, // 0x47 G:             ¦ broken bar, ┆ box drawings light triple dash vertical
    { 0x2469, 0x2473, 0x325A }, // 0x48 H:             ⑩ circled number 10, ⑳ circled number 20, ㉚ circled number 30
    { 0x2466, 0x2470, 0x3257 }, // 0x49 I:             ⑦ circled number 7, ⑰ circled number 17, ㉗ circled number 27
    { 0x2460, 0x246A, 0x3251 }, // 0x4A J:             ① circled number 1, ⑪ circled number 11, ㉑ circled number 21
    { 0x2461, 0x246B, 0x3252 }, // 0x4B K:             ② circled number 2, ⑫ circled number 12, ㉒ circled number 22
    { 0x2462, 0x246C, 0x3253 }, // 0x4C L:             ③ circled number 3, ⑬ circled number 13, ㉓ circled number 23
    { 0x201D, 0x2019, 0x0000 }, // 0x4D M:             ” left double question mark, ’ right single quotation mark
    { 0x201C, 0x2018, 0x0000 }, // 0x4E N:             “ right double question mark, ‘ left single quoatation mark
    { 0x2467, 0x2471, 0x3258 }, // 0x4F O:             ⑧ circled number 8, ⑱ circled number 18, ㉘ circled number 28
    { 0x2468, 0x2472, 0x3259 }, // 0x50 P:             ⑨ circled number 9, ⑲ circled number 19, ㉙ circled number 29
    { 0x2199, 0x2196, 0x261F }, // 0x51 Q:             ↙ south west arrow, ↖ north west arrow, ☟ white down-pointing arrow
    { 0x0000, 0x0000, 0x0000 }, // 0x52 R:        
    { 0x0000, 0x0000, 0x0000 }, // 0x53 S:        
    { 0x0000, 0x0000, 0x0000 }, // 0x54 T:        
    { 0x2465, 0x246F, 0x3256 }, // 0x55 U:             ⑥ circled number 6, ⑯ circled number 16, ㉖ circled number 26
    { 0x0000, 0x0000, 0x0000 }, // 0x56 V:        
    { 0x2198, 0x2197, 0x261D }, // 0x57 W:             ↘ south east arrow, ↗ north east arrow, ☝ white up-pointing arrow
    { 0x0000, 0x0000, 0x0000 }, // 0x58 X:        
    { 0x2464, 0x246E, 0x3255 }, // 0x59 Y:             ⑤ circled number 5, ⑮ circled number 15, ㉕ circled number 25
    { 0x0000, 0x0000, 0x0000 }, // 0x5A Z:
    { 0x3010, 0x3014, 0x2600 }, // 0x5B bracketleft:   【 left black lenticular bracket, 〔 left tortoise shell bracket. ☀ black sun with rays
    { 0x2252, 0x00B6, 0x0000 }, // 0x5C backslash:     ≒ approximately equal to or the image of, ¶ pilcrow sign
    { 0x3011, 0x3015, 0x2602 }, // 0x5D bracketright:  】 right black lenticular bracket, 〕 right tortoise shell bracket, ☂ umbrella
    { 0x321C, 0x0000, 0x0000 }, // 0x5E asciicircum:   ㈜ parenthesized Hangeul ju
    { 0x0000, 0x0000, 0x0000 }, // 0x5F underscore:
    { 0x00A9, 0x00AE, 0x2117 }, // 0x60 quoteleft:     © copyright sign, ® regitered sign, ℗ sound recoding copyright
    { 0x25C7, 0x25C8, 0x25C6 }, // 0x61 a:             ◇ white diamond, ◈ white diamond containing black small diamond, ◆ black diamond
    { 0x02D0, 0x25C1, 0x25C0 }, // 0x62 b:             ː modifier letter triangular colon, ◁ white left-pointing triangle, ◀ black left-pointing triangle
    { 0x00B0, 0x260E, 0x2668 }, // 0x63 c:             ° degree sign, ☎ black telephone, ♨ hot springs
    { 0x25CB, 0x25C9, 0x25CF }, // 0x64 d:             ○ white circle, ◉ white circle containing black small circle, ● black circle
    { 0x00D7, 0x2194, 0x2195 }, // 0x65 e:             × multiplication X, ↔ left right arrow, ↕ up down arrow
    { 0x00B7, 0x25B3, 0x25B2 }, // 0x66 f:             · middle dot, △ white up-pointing triangle, ▲ black up-pointing triangle
    { 0x2015, 0x25BD, 0x25BC }, // 0x67 g:             ― horizontal bar, ▽ white down-pointing triangle, ▼ black down-pointing triangle
    { 0x3261, 0x2469, 0x2473 }, // 0x68 h:             ㉡ circled hangeul nieun, ⑩ circled number 10, ⑳ circled number 20
    { 0x3264, 0x2466, 0x2470 }, // 0x69 i:             ㉤ circled hangeul mieum, ⑦ circled number 7, ⑰ circled number 17
    { 0x3267, 0x2460, 0x246A }, // 0x6A j:             ㉧ circled hangeul ieung, ① circled number 1, ⑪ circled number 11
    { 0x3260, 0x2461, 0x246B }, // 0x6B k:             ㉠ circled hangeul gieug, ② circled number 2, ⑫ circled number 12
    { 0x3268, 0x2462, 0x246C }, // 0x6C l:             ㉨ circled hangeul jieuj, ③ circled number 3, ⑬ circled number 13
    { 0x326D, 0x300B, 0x0000 }, // 0x6D m:             ㉭ circled hangeul hieuh, 》 right double angle bracket
    { 0x3266, 0x300A, 0x0000 }, // 0x6E n:             ㉦ circled hangeul sieus, 《 left double angle bracket
    { 0x3269, 0x2467, 0x2471 }, // 0x6F o:             ㉩ circled hangeul chieuch, ⑧ circled number 8, ⑱ circled number 18
    { 0x326C, 0x2468, 0x2472 }, // 0x70 p:             ㉬ circled hangeul pieup, ⑨ circled number 9, ⑲ circled number 19
    { 0x2190, 0x2193, 0x261C }, // 0x71 q:             ← lefewards arrow, ↓ downwards arrow, ☜ white left-pointing index
    { 0x00B4, 0x2022, 0x25E6 }, // 0x72 r:             ´ acute accent, • bullet, ◦ white bullet
    { 0x25A1, 0x25A3, 0x25A0 }, // 0x73 s:             □ white square, ▣ white square containing black small square, ■ black square
    { 0x3003, 0x2713, 0x2611 }, // 0x74 t:             〃 ditto mark, ✓ check mark, ☑ ballot box with check
    { 0x3262, 0x2465, 0x246F }, // 0x75 u:             ㉢ circled hangeul dieud, ⑥ circled number 6, ⑯ circled number 16
    { 0x0000, 0x25B7, 0x25B6 }, // 0x76 v:             none, ▷ white right-pointing triangle, ▶ black right-pointing triangle
    { 0x2192, 0x2191, 0x261E }, // 0x77 w:             → rightwards arrow, ↑ upwards arrow, ☞ white right-pointing index
    { 0x2032, 0x2606, 0x2605 }, // 0x78 x:             ′ prime, ☆ white star, ★ black star
    { 0x3263, 0x2464, 0x246E }, // 0x79 y:             ㉣ circled hangeul lieul, ⑤ circled number 5, ⑮ circled number 15
    { 0x2033, 0x2661, 0x2665 }, // 0x7A z:             ″ double prime, ♡ white heart suit, ♥ black heart suit
    { 0x0000, 0x0000, 0x0000 }, // 0x7B braceleft:
    { 0x0000, 0x0000, 0x0000 }, // 0x7C bar:      
    { 0x0000, 0x0000, 0x0000 }, // 0x7D braceright:
    { 0x327F, 0x0000, 0x0000 }, // 0x7E asciitilde:    ㉿ Korean standard symbol
    { 0x0000, 0x0000, 0x0000 }, // 0x7F delete    
    };

    if (ascii < 0x21 || ascii > 0x7F) {
        return 0;
    } else if (step < 1 || step > 3 ) {
        return 0;
    } else {
        return ext_table[ascii - 0x21][step - 1];
    }
}

ucschar
hangul_ascii_to_symbol_3_2011_yet(int ascii, int step, int press)
{/* 3-2011 옛한글 글판 특수기호 확장 배열 */
    static unsigned short ext_table[][2][5] = {
    {{0x2921, 0x0000, 0x0000, 0x0000, 0x0000},     {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x21 exclam */
    {{0x266A, 0x266C, 0x0000, 0x0000, 0x0000},     {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x22 quotedbl */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},     {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x23 numbersign */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},     {0xFE35, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x24 dollar */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},     {0xFE36, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x25 percent */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},     {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x26 ampersand */
    {{0x326B, 0x3279, 0x0000, 0x0000, 0x0000},     {0x2030, 0x2031, 0x0000, 0x0000, 0x0000}}, /* 0x27 apostrophe */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},     {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x28 parenleft */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},     {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x29 parenright */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},     {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x2A asterisk */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},     {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x2B plus */
    {{0x3001, 0x0000, 0x0000, 0x0000, 0x0000},     {0x2266, 0x226A, 0x0000, 0x0000, 0x0000}}, /* 0x2C comma */
    {{0x2642, 0x2600, 0x2601, 0x0000, 0x0000},     {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x2D minus */
    {{0x3002, 0x0000, 0x0000, 0x0000, 0x0000},     {0x2267, 0x226B, 0x0000, 0x0000, 0x0000}}, /* 0x2E period */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},     {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x2F slash */
    {{0x326A, 0x3278, 0x0000, 0x0000, 0x0000},     {0x2713, 0x2611, 0x2610, 0x0000, 0x0000}}, /* 0x30 0 */
    {{0x2195, 0x21C5, 0x21F3, 0x0000, 0x0000},     {0x03BC, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x31 1 */
    {{0x2194, 0x21C4, 0x2B04, 0x0000, 0x0000},     {0x2109, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x32 2 */
    {{0xFFE5, 0x04B0, 0x0000, 0x0000, 0x0000},     {0x2103, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x33 3 */
    {{0xFFE6, 0x0000, 0x0000, 0x0000, 0x0000},     {0xFFE0, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x34 4 */
    {{0x20AC, 0xFFE1, 0x0000, 0x0000, 0x0000},     {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x35 5 */
    {{0x327E, 0x321C, 0x327F, 0x0000, 0x0000},     {0x2702, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x36 6 */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},     {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x37 7 */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},     {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x38 8 */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},     {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x39 9 */
    {{0x2084, 0x0000, 0x0000, 0x0000, 0x0000},     {0x2074, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x3A colon */
    {{0x3265, 0x3273, 0x0000, 0x0000, 0x0000},     {0x2463, 0x246D, 0x3254, 0x325E, 0x32B9}}, /* 0x3B semicolon */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},     {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x3C less */
    {{0x2640, 0x2602, 0x2603, 0x0000, 0x0000},     {0x2260, 0x2245, 0x0000, 0x0000, 0x0000}}, /* 0x3D equal */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},     {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x3E greater */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},     {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x3F question */
    {{0x2922, 0x0000, 0x0000, 0x0000, 0x0000},     {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x40 at */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},     {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x41 A */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},     {0xFE40, 0xFE3E, 0x0000, 0x0000, 0x0000}}, /* 0x42 B */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},     {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x43 C */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},     {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x44 D */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},     {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x45 E */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},     {0xFE41, 0xFE43, 0x0000, 0x0000, 0x0000}}, /* 0x46 F */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},     {0xFE42, 0xFE44, 0x0000, 0x0000, 0x0000}}, /* 0x47 G */
    {{0x2080, 0x0000, 0x0000, 0x0000, 0x0000},     {0x2070, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x48 H */
    {{0x2087, 0x0000, 0x0000, 0x0000, 0x0000},     {0x2077, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x49 I */
    {{0x2081, 0x0000, 0x0000, 0x0000, 0x0000},     {0x00B9, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x4A J */
    {{0x2082, 0x0000, 0x0000, 0x0000, 0x0000},     {0x00B2, 0x33A1, 0x0000, 0x0000, 0x0000}}, /* 0x4B K */
    {{0x2083, 0x0000, 0x0000, 0x0000, 0x0000},     {0x00B3, 0x33A5, 0x0000, 0x0000, 0x0000}}, /* 0x4C L */
    {{0x2019, 0x201D, 0x0000, 0x0000, 0x0000},     {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x4D M */
    {{0x2018, 0x201C, 0x0000, 0x0000, 0x0000},     {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x4E N */
    {{0x2088, 0x0000, 0x0000, 0x0000, 0x0000},     {0x2078, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x4F O */
    {{0x2089, 0x0000, 0x0000, 0x0000, 0x0000},     {0x2079, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x50 P */
    {{0x2199, 0x21B2, 0x2B10, 0x0000, 0x0000},     {0x2196, 0x21B0, 0x2B11, 0x0000, 0x0000}}, /* 0x51 Q */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},     {0xFE3B, 0xFE39, 0x0000, 0x0000, 0x0000}}, /* 0x52 R */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},     {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x53 S */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},     {0xFE38, 0xFE3C, 0xFE3A, 0x0000, 0x0000}}, /* 0x54 T */
    {{0x2086, 0x0000, 0x0000, 0x0000, 0x0000},     {0x2076, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x55 U */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},     {0xFE3F, 0xFE3D, 0x0000, 0x0000, 0x0000}}, /* 0x56 V */
    {{0x2198, 0x21B3, 0x2B0E, 0x0000, 0x0000},     {0x2197, 0x21B1, 0x2B0F, 0x0000, 0x0000}}, /* 0x57 W */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},     {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x58 X */
    {{0x2085, 0x0000, 0x0000, 0x0000, 0x0000},     {0x2075, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x59 Y */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},     {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x5A Z */
    {{0x2022, 0x25B3, 0x25B2, 0x0000, 0x0000},     {0x00B1, 0x25B7, 0x25B6, 0x0000, 0x0000}}, /* 0x5B bracketleft */
    {{0x00B6, 0x23CE, 0x0000, 0x0000, 0x0000},     {0x2252, 0x2248, 0x0000, 0x0000, 0x0000}}, /* 0x5C backslash */
    {{0x2025, 0x25BD, 0x25BC, 0x0000, 0x0000},     {0x00F7, 0x25C1, 0x25C0, 0x0000, 0x0000}}, /* 0x5D bracketright */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},     {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x5E asciicircum */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},     {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x5F underscore */
    {{0x00A9, 0x00AE, 0x2117, 0x0000, 0x0000},     {0x2122, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x60 quoteleft */
    {{0x2026, 0x2504, 0x0000, 0x0000, 0x0000},     {0x25C7, 0x25C8, 0x25C6, 0x0000, 0x0000}}, /* 0x61 a */
    {{0x00A7, 0x0000, 0x0000, 0x0000, 0x0000},     {0x3009, 0x300B, 0x0000, 0x0000, 0x0000}}, /* 0x62 b */
    {{0x00B0, 0x0000, 0x0000, 0x0000, 0x0000},     {0x260E, 0x2668, 0x0000, 0x0000, 0x0000}}, /* 0x63 c */
    {{0x302E, 0x0000, 0x0000, 0x0000, 0x0000},     {0x25CB, 0x25C9, 0x25CF, 0x0000, 0x0000}}, /* 0x64 d */
    {{0x00D7, 0x2715, 0x0000, 0x0000, 0x0000},     {0x203B, 0x327C, 0x327D, 0x0000, 0x0000}}, /* 0x65 e */
    {{0x2015, 0x00AF, 0xFFE3, 0x0000, 0x0000},     {0x300C, 0x300E, 0x0000, 0x0000, 0x0000}}, /* 0x66 f */
    {{0x007C, 0x00A6, 0x2506, 0x0000, 0x0000},     {0x300D, 0x300F, 0x0000, 0x0000, 0x0000}}, /* 0x67 g */
    {{0x3261, 0x326F, 0x0000, 0x0000, 0x0000},     {0x2469, 0x2473, 0x325A, 0x32B5, 0x32BF}}, /* 0x68 h */
    {{0x3264, 0x3272, 0x0000, 0x0000, 0x0000},     {0x2466, 0x2470, 0x3257, 0x32B2, 0x32BC}}, /* 0x69 i */
    {{0x3267, 0x3275, 0x0000, 0x0000, 0x0000},     {0x2460, 0x246A, 0x3251, 0x325B, 0x32B6}}, /* 0x6A j */
    {{0x3260, 0x326E, 0x0000, 0x0000, 0x0000},     {0x2461, 0x246B, 0x3252, 0x325C, 0x32B7}}, /* 0x6B k */
    {{0x3268, 0x3276, 0x0000, 0x0000, 0x0000},     {0x2462, 0x246C, 0x3253, 0x325D, 0x32B8}}, /* 0x6C l */
    {{0x326D, 0x327B, 0x0000, 0x0000, 0x0000},     {0x2234, 0x2235, 0x2261, 0x0000, 0x0000}}, /* 0x6D m */
    {{0x3266, 0x3274, 0x0000, 0x0000, 0x0000},     {0x221E, 0x221D, 0x0000, 0x0000, 0x0000}}, /* 0x6E n */
    {{0x3269, 0x3277, 0x0000, 0x0000, 0x0000},     {0x2467, 0x2471, 0x3258, 0x32B3, 0x32BD}}, /* 0x6F o */
    {{0x326C, 0x327A, 0x0000, 0x0000, 0x0000},     {0x2468, 0x2472, 0x3259, 0x32B4, 0x32BE}}, /* 0x70 p */
    {{0x2190, 0x261C, 0x21E6, 0x0000, 0x0000},     {0x2193, 0x261F, 0x21E9, 0x0000, 0x0000}}, /* 0x71 q */
    {{0x0060, 0x00B4, 0x0000, 0x0000, 0x0000},     {0x007B, 0x3010, 0x3014, 0x0000, 0x0000}}, /* 0x72 r */
    {{0x302F, 0x0000, 0x0000, 0x0000, 0x0000},     {0x25A1, 0x25A3, 0x25A0, 0x0000, 0x0000}}, /* 0x73 s */
    {{0x3003, 0x0000, 0x0000, 0x0000, 0x0000},     {0x3011, 0x3015, 0x0000, 0x0000, 0x0000}}, /* 0x74 t */
    {{0x3262, 0x3270, 0x0000, 0x0000, 0x0000},     {0x2465, 0x246F, 0x3256, 0x32B1, 0x32BB}}, /* 0x75 u */
    {{0x02D0, 0x0000, 0x0000, 0x0000, 0x0000},     {0x3008, 0x300A, 0x0000, 0x0000, 0x0000}}, /* 0x76 v */
    {{0x2192, 0x261E, 0x21E8, 0x0000, 0x0000},     {0x2191, 0x261D, 0x21E7, 0x0000, 0x0000}}, /* 0x77 w */
    {{0x2032, 0x0000, 0x0000, 0x0000, 0x0000},     {0x2606, 0x2605, 0x0000, 0x0000, 0x0000}}, /* 0x78 x */
    {{0x3263, 0x3271, 0x0000, 0x0000, 0x0000},     {0x2464, 0x246E, 0x3255, 0x325F, 0x32BA}}, /* 0x79 y */
    {{0x2033, 0x0000, 0x0000, 0x0000, 0x0000},     {0x2661, 0x2665, 0x0000, 0x0000, 0x0000}}, /* 0x7A z */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},     {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x7B braceleft */
    {{0x00A6, 0x2506, 0x0000, 0x0000, 0x0000},     {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x7C bar */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},     {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x7D braceright */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},     {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x7E asciitilde */
    };

    if (ascii < 0x21 || ascii > 0x7E) {
        return 0;
    } else if (press < 0 || press > 1 ) {
        return 0;
    } else if (step < 1 || step > 5 ) {
        return 0;
    } else {
        return ext_table[ascii - 0x21][press][step - 1];
    }
}

ucschar
hangul_ascii_to_symbol_3_2012_yet(int ascii, int step, int press)
{/* 3-2012 옛한글 글판 특수기호 확장 배열 */
    static unsigned short ext_table[][2][5] = {
    {{0x2921, 0x0000, 0x0000, 0x0000, 0x0000},    {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x21 exclam */
    {{0x266A, 0x266C, 0x0000, 0x0000, 0x0000},    {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x22 quotedbl */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},    {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x23 numbersign */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},    {0xFE35, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x24 dollar */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},    {0xFE36, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x25 percent */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},    {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x26 ampersand */
    {{0x326B, 0x3279, 0x0000, 0x0000, 0x0000},    {0x00F7, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x27 apostrophe */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},    {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x28 parenleft */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},    {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x29 parenright */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},    {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x2A asterisk */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},    {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x2B plus */
    {{0x3001, 0x0000, 0x0000, 0x0000, 0x0000},    {0x2266, 0x226A, 0x0000, 0x0000, 0x0000}}, /* 0x2C comma */
    {{0x2642, 0x2600, 0x2601, 0x0000, 0x0000},    {0x00B1, 0x002D, 0x0000, 0x0000, 0x0000}}, /* 0x2D minus */
    {{0x3002, 0x0000, 0x0000, 0x0000, 0x0000},    {0x2267, 0x226B, 0x0000, 0x0000, 0x0000}}, /* 0x2E period */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},    {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x2F slash */
    {{0x326A, 0x3278, 0x0000, 0x0000, 0x0000},    {0x2713, 0x2611, 0x2610, 0x0000, 0x0000}}, /* 0x30 0 */
    {{0x2195, 0x21C5, 0x21F3, 0x0000, 0x0000},    {0x03BC, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x31 1 */
    {{0x2194, 0x21C4, 0x2B04, 0x0000, 0x0000},    {0x2109, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x32 2 */
    {{0xFFE5, 0x04B0, 0x0000, 0x0000, 0x0000},    {0x2103, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x33 3 */
    {{0xFFE6, 0x0000, 0x0000, 0x0000, 0x0000},    {0xFFE0, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x34 4 */
    {{0x20AC, 0xFFE1, 0x0000, 0x0000, 0x0000},    {0x2030, 0x2031, 0x0000, 0x0000, 0x0000}}, /* 0x35 5 */
    {{0x327E, 0x321C, 0x327F, 0x0000, 0x0000},    {0x2702, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x36 6 */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},    {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x37 7 */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},    {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x38 8 */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},    {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x39 9 */
    {{0x2084, 0x0000, 0x0000, 0x0000, 0x0000},    {0x2074, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x3A colon */
    {{0x3265, 0x3273, 0x0000, 0x0000, 0x0000},    {0x2463, 0x246D, 0x3254, 0x325E, 0x32B9}}, /* 0x3B semicolon */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},    {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x3C less */
    {{0x2640, 0x2602, 0x2603, 0x0000, 0x0000},    {0x2260, 0x2245, 0x0000, 0x0000, 0x0000}}, /* 0x3D equal */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},    {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x3E greater */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},    {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x3F question */
    {{0x2922, 0x0000, 0x0000, 0x0000, 0x0000},    {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x40 at */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},    {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x41 A */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},    {0xFE40, 0xFE3E, 0x0000, 0x0000, 0x0000}}, /* 0x42 B */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},    {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x43 C */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},    {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x44 D */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},    {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x45 E */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},    {0xFE41, 0xFE43, 0x0000, 0x0000, 0x0000}}, /* 0x46 F */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},    {0xFE42, 0xFE44, 0x0000, 0x0000, 0x0000}}, /* 0x47 G */
    {{0x2080, 0x0000, 0x0000, 0x0000, 0x0000},    {0x2070, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x48 H */
    {{0x2087, 0x0000, 0x0000, 0x0000, 0x0000},    {0x2077, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x49 I */
    {{0x2081, 0x0000, 0x0000, 0x0000, 0x0000},    {0x00B9, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x4A J */
    {{0x2082, 0x0000, 0x0000, 0x0000, 0x0000},    {0x00B2, 0x33A1, 0x0000, 0x0000, 0x0000}}, /* 0x4B K */
    {{0x2083, 0x0000, 0x0000, 0x0000, 0x0000},    {0x00B3, 0x33A5, 0x0000, 0x0000, 0x0000}}, /* 0x4C L */
    {{0x2019, 0x201D, 0x0000, 0x0000, 0x0000},    {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x4D M */
    {{0x2018, 0x201C, 0x0000, 0x0000, 0x0000},    {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x4E N */
    {{0x2088, 0x0000, 0x0000, 0x0000, 0x0000},    {0x2078, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x4F O */
    {{0x2089, 0x0000, 0x0000, 0x0000, 0x0000},    {0x2079, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x50 P */
    {{0x2199, 0x21B2, 0x2B10, 0x0000, 0x0000},     {0x2196, 0x21B0, 0x2B11, 0x0000, 0x0000}}, /* 0x51 Q */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},    {0xFE3B, 0xFE39, 0x0000, 0x0000, 0x0000}}, /* 0x52 R */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},    {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x53 S */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},    {0xFE3C, 0xFE3A, 0x0000, 0x0000, 0x0000}}, /* 0x54 T */
    {{0x2086, 0x0000, 0x0000, 0x0000, 0x0000},    {0x2076, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x55 U */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},    {0xFE3F, 0xFE3D, 0x0000, 0x0000, 0x0000}}, /* 0x56 V */
    {{0x2198, 0x21B3, 0x2B0E, 0x0000, 0x0000},     {0x2197, 0x21B1, 0x2B0F, 0x0000, 0x0000}}, /* 0x57 W */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},    {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x58 X */
    {{0x2085, 0x0000, 0x0000, 0x0000, 0x0000},    {0x2075, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x59 Y */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},    {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x5A Z */
    {{0x25B3, 0x25B2, 0x0000, 0x0000, 0x0000},    {0x25B7, 0x25B6, 0x0000, 0x0000, 0x0000}}, /* 0x5B bracketleft */
    {{0x00B6, 0x23CE, 0x0000, 0x0000, 0x0000},    {0x2252, 0x2248, 0x0000, 0x0000, 0x0000}}, /* 0x5C backslash:*/
    {{0x25BD, 0x25BC, 0x0000, 0x0000, 0x0000},    {0x25C1, 0x25C0, 0x0000, 0x0000, 0x0000}}, /* 0x5D bracketright:*/
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},    {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x5E asciicircum:*/
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},    {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x5F */
    {{0x00A9, 0x00AE, 0x2117, 0x0000, 0x0000},    {0x2122, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x60 */
    {{0x2026, 0x2504, 0x0000, 0x0000, 0x0000},    {0x25C7, 0x25C8, 0x25C6, 0x0000, 0x0000}}, /* 0x61 a */
    {{0x00A7, 0x0000, 0x0000, 0x0000, 0x0000},    {0x3009, 0x300B, 0x0000, 0x0000, 0x0000}}, /* 0x62 b */
    {{0x00B0, 0x0000, 0x0000, 0x0000, 0x0000},    {0x260E, 0x2668, 0x0000, 0x0000, 0x0000}}, /* 0x63 c */
    {{0x302E, 0x0000, 0x0000, 0x0000, 0x0000},    {0x25CB, 0x25C9, 0x25CF, 0x0000, 0x0000}}, /* 0x64 d */
    {{0x00D7, 0x2715, 0x0000, 0x0000, 0x0000},    {0x203B, 0x327C, 0x327D, 0x0000, 0x0000}}, /* 0x65 e */
    {{0x00B7, 0x2022, 0x25E6, 0x0000, 0x0000},    {0x300C, 0x300E, 0x0000, 0x0000, 0x0000}}, /* 0x66 f */
    {{0x2015, 0x00AF, 0xFFE3, 0x0000, 0x0000},    {0x300D, 0x300F, 0x0000, 0x0000, 0x0000}}, /* 0x67 g */
    {{0x3261, 0x326F, 0x0000, 0x0000, 0x0000},    {0x2469, 0x2473, 0x325A, 0x32B5, 0x32BF}}, /* 0x68 h */
    {{0x3264, 0x3272, 0x0000, 0x0000, 0x0000},    {0x2466, 0x2470, 0x3257, 0x32B2, 0x32BC}}, /* 0x69 i */
    {{0x3267, 0x3275, 0x0000, 0x0000, 0x0000},    {0x2460, 0x246A, 0x3251, 0x325B, 0x32B6}}, /* 0x6A j */
    {{0x3260, 0x326E, 0x0000, 0x0000, 0x0000},    {0x2461, 0x246B, 0x3252, 0x325C, 0x32B7}}, /* 0x6B k */
    {{0x3268, 0x3276, 0x0000, 0x0000, 0x0000},    {0x2462, 0x246C, 0x3253, 0x325D, 0x32B8}}, /* 0x6C l */
    {{0x326D, 0x327B, 0x0000, 0x0000, 0x0000},    {0x2234, 0x2235, 0x2261, 0x0000, 0x0000}}, /* 0x6D m */
    {{0x3266, 0x3274, 0x0000, 0x0000, 0x0000},    {0x221E, 0x221D, 0x0000, 0x0000, 0x0000}}, /* 0x6E n */
    {{0x3269, 0x3277, 0x0000, 0x0000, 0x0000},    {0x2467, 0x2471, 0x3258, 0x32B3, 0x32BD}}, /* 0x6F o */
    {{0x326C, 0x327A, 0x0000, 0x0000, 0x0000},    {0x2468, 0x2472, 0x3259, 0x32B4, 0x32BE}}, /* 0x70 p */
    {{0x2190, 0x261C, 0x21E6, 0x0000, 0x0000},     {0x2193, 0x261F, 0x21E9, 0x0000, 0x0000}}, /* 0x71 q */
    {{0x00B4, 0x0000, 0x0000, 0x0000, 0x0000},    {0x3010, 0x3014, 0x0000, 0x0000, 0x0000}}, /* 0x72 r */
    {{0x302F, 0x0000, 0x0000, 0x0000, 0x0000},    {0x25A1, 0x25A3, 0x25A0, 0x0000, 0x0000}}, /* 0x73 s */
    {{0x3003, 0x0000, 0x0000, 0x0000, 0x0000},    {0x3011, 0x3015, 0x0000, 0x0000, 0x0000}}, /* 0x74 t */
    {{0x3262, 0x3270, 0x0000, 0x0000, 0x0000},    {0x2465, 0x246F, 0x3256, 0x32B1, 0x32BB}}, /* 0x75 u */
    {{0x02D0, 0x0000, 0x0000, 0x0000, 0x0000},    {0x3008, 0x300A, 0x0000, 0x0000, 0x0000}}, /* 0x76 v */
    {{0x2192, 0x261E, 0x21E8, 0x0000, 0x0000},     {0x2191, 0x261D, 0x21E7, 0x0000, 0x0000}}, /* 0x77 w */
    {{0x2032, 0x0000, 0x0000, 0x0000, 0x0000},    {0x2606, 0x2605, 0x0000, 0x0000, 0x0000}}, /* 0x78 x */
    {{0x3263, 0x3271, 0x0000, 0x0000, 0x0000},    {0x2464, 0x246E, 0x3255, 0x325F, 0x32BA}}, /* 0x79 y */
    {{0x2033, 0x0000, 0x0000, 0x0000, 0x0000},    {0x2661, 0x2665, 0x0000, 0x0000, 0x0000}}, /* 0x7A z */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},    {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x7B braceleft */
    {{0x00A6, 0x2506, 0x0000, 0x0000, 0x0000},    {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x7C bar */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},    {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x7D braceright */
    {{0x0000, 0x0000, 0x0000, 0x0000, 0x0000},    {0x0000, 0x0000, 0x0000, 0x0000, 0x0000}}, /* 0x7E asciitilde */
    };

    if (ascii < 0x21 || ascii > 0x7E) {
        return 0;
    } else if (press < 0 || press > 1 ) {
        return 0;
    } else if (step < 1 || step > 5 ) {
        return 0;
    } else {
        return ext_table[ascii - 0x21][press][step - 1];
    }
}


ucschar
hangul_ascii_to_hanguel_3_yet(int ascii, int step, int press)
{/* 세벌식 옛한글 글판의 한글 확장 배열 */
    static unsigned short ext_table[][2][2] = {
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x21 exclam: */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x22 quotedbl: */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x23 numbersign: */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x24 dollar: */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x25 percent: */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x26 ampersand: */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x27 apostrophe: */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x28 parenleft: */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x29 parenright: */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x2A asterisk: */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x2B plus: */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x2C comma: */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x2D minus: */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x2E period: */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x2F slash: */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x30 0: */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x31 1: */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x32 2: jongseong ap-sieus(non-standard), jongseong ssang-ap-sieus(non-standard), jongseong dwit-sieus(non-standard), jongseong ssang-dwit-sieus(non-standard) */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x33 3: */
    {{0xD7C2, 0x0000},    {0x0000, 0x0000}},     /* 0x34 4: i+yo */
    {{0xD7C3, 0x0000},    {0x0000, 0x0000}},     /* 0x35 5: i+yu */
    {{0x1199, 0x0000},    {0x0000, 0x0000}},     /* 0x36 6: i+ya */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x37 7: */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x38 8: */
    {{0x113C, 0x113D},    {0x113E, 0x113F}},     /* 0x39 9: choseong ap-sieus, choseong ssang-ap-sieus, choseong dwit-sieus, choseong ssang-dwit-sieus */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x3A colon: */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x3B semicolon: */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x3C less: */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x3D equal: */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x3E greater: */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x3F question: */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x40 at: */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x41 A: */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x42 B: */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x43 C: */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x44 D: */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x45 E: */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x46 F: */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x47 G: */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x48 H: */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x49 I: */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x4A J: */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x4B K: */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x4C L: */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x4D M: */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x4E N: */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x4F O: */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x50 P: */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x51 Q: */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x52 R: */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x53 S: */
    {{0xD7BE, 0x0000},    {0x0000, 0x0000}},     /* 0x54 T: i+yae */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x55 U: */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x56 V: */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x57 W: */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x58 X: */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x59 Y: */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x5A Z: */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x5B */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x5C */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x5D */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x5E */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x5F */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x60 */
    {{0x0000, 0x0000},    {0x11F0, 0x11EE}},     /* 0x61 a: yes-ieung, ssangyesieung */
    {{0x119B, 0x0000},    {0x1195, 0x0000}},     /* 0x62 b: i+u, eu+u */
    {{0x1168, 0x0000},    {0xD7BB, 0x0000}},     /* 0x63 c: ye, eu+e */
    {{0xD7C4, 0x0000},    {0x1174, 0x0000}},     /* 0x64 d: i+i, eu+i */
    {{0xD7BF, 0x0000},    {0x119E, 0x11A2}},     /* 0x65 e: i+yeo, arae-a, ssangarae-a */
    {{0x1198, 0x0000},    {0xD7B9, 0x0000}},     /* 0x66 f: i+a, eu+a */
    {{0x119C, 0x0000},    {0x1196, 0x0000}},     /* 0x67 g: i+eu, eu+eu */
    {{0x0000, 0x0000},    {0x1159, 0xA97C}},     /* 0x68 h: choseong yeorinhieuh, choseong ssangyeorinhieuh */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x69 i: */
    {{0x0000, 0x0000},    {0x114C, 0x0000}},     /* 0x6A j: choseong yes-ieung, choseong ssang-yes-ieung(non-standard) */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x6B k: */
    {{0x114E, 0x114F},    {0x1150, 0x1151}},     /* 0x6C l: choseong ap-jieuj, choseong ssang-ap-jieuj, choseong dwit-jieuj, choseong ssang-dwit-jieuj */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x6D m: */
    {{0x0000, 0x0000},    {0x1140, 0x0000}},     /* 0x6E n: choseong yeorin-sieus*/
    {{0x1154, 0x0000},    {0x1155, 0x0000}},     /* 0x6F o: choseong ap-chieuch, choseong dwit-chieuch */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x70 p: */
    {{0x0000, 0x0000},    {0x11EB, 0x0000}},     /* 0x71 q: jongseong yeorin-sieus */
    {{0x0000, 0x0000},    {0xD7BA, 0x0000}},     /* 0x72 r: eu+eo */
    {{0x0000, 0x0000},    {0x11F9, 0x0000}},     /* 0x73 s: jongseong yeorin-hieuh, jongseong yeorin-ssang-hieuh(non-standard) */
    {{0x1164, 0xD7BE},    {0x0000, 0x0000}},     /* 0x74 t: yae, i+yae */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x75 u: */
    {{0x119A, 0x0000},    {0xD7BC, 0x0000}},     /* 0x76 v: i+o, eu+o */
    {{0x0000, 0x0000},    {0xD7DD, 0x0000}},     /* 0x77 w: jongseong rieul-ieung */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x78 x: jongseong ap-jieuj(non-standard), jongseong ssang-ap-jieuj(non-standard), jongseong dwit-jieuj(non-standard), jongseong ssang-dwit-jieuj(non-standard) */
    {{0x0000, 0x0000},    {0x111B, 0x0000}},     /* 0x79 y: choseong rieul-ieung */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x7A z: jongseong ap-chieuch(non-standard), jongseong dwit-chieuch(non-standard) */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x7B braceleft: */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x7C bar: */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x7D braceright: */
    {{0x0000, 0x0000},    {0x0000, 0x0000}},     /* 0x7E asciitilde: */
    };

    if (ascii < 0x21 || ascii > 0x7E) {
        return 0;
    } else if (press < 0 || press > 1 ) {
        return 0;
    } else if (step < 1 || step > 2 ) {
        return 0;
    } else {
        return ext_table[ascii - 0x21][press][step - 1];
    }
}


